(window.webpackJsonp=window.webpackJsonp||[]).push([["social-bar-wc"],{"9y7U":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={selectPpeParameter:"oneservice_enable_ppe",externalUrls:{api:"https://assets.msn.com/service/community/",cnApi:"https://assets.msn.cn/service/community/",ppeApi:"https://ppe-api.msn.com/community/",guidelinePage:"https://www.msn.com/en-us/community/guideline",profilePage:"https://www.msn.com/en-us/community/profile/",privacySettings:"https://www.msn.com/en-us/settings",profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",copyrightReportForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbRziAYhqL1o9IrEi_GLF4l4hUQVFUVldIVFRCSzQ3NEVOTURNQ01BTE9YSi4u",moderationEmail:"Appealsprocessor@microsoft.com",newPost:"https://www.msn.com/en-us/community/post/new"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAgeGroup:{under18:"Under18",above18:"Above18"},userSubType:{default:"Default",publisher:"Publisher",creator:"Creator"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},commentReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userNameReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate"},userPictureReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",TechnicalAttack:"ReportOptTechnicalAttack",Copyright:"ReportOptCopyright",Trademark:"ReportOptTrademark",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Nudity:"ReportOptNudity",NonConsensualIntimateImagery:"ReportOptNonConsensualIntimateImagery",Inappropriate:"ReportOptInappropriate"},reactionOrder:["like","love","surprised","thinking","sad","angry"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"emj_like",love:"emj_love",thinking:"emj_thinking",surprised:"emj_surprised",sad:"emj_sad",angry:"emj_angry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",MobilePopup:"cwt-mobile-popup"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg"}},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",disabledComponents:["profilepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","notificationtray"]},superappFullpage:{name:"superapp-fullpage",disabledComponents:["profilepage"]}}}},AvGy:function(e,t,o){"use strict";o.r(t),o.d(t,"ToolingInfo",(function(){return tt})),o.d(t,"SocialBarWC",(function(){return B})),o.d(t,"SocialBarWCTemplate",(function(){return _e})),o.d(t,"SocialBarWCStyles",(function(){return et}));var n={};o.r(n),o.d(n,"sendContentReaction",(function(){return d}));var i=o("A03o"),a=o("akWC"),r=o("C49W"),s=o("Zn5T");const c=Object(i.a)(s.a.socialBarWC,"Social Bar WC",Object.assign(Object.assign(Object.assign(Object.assign({},Object(a.a)({JustNow:"Localization for socialbar Just Now",NumberYearsAgo:"Localization for socialbar years",NumberYearAgo:"Localization for socialbar year",NumberMonthsAgo:"Localization for socialbar months",NumberMonthAgo:"Localization for socialbar month",NumberWeeksAgo:"Localization for socialbar weeks",NumberWeekAgo:"Localization for socialbar week",NumberDaysAgo:"Localization for socialbar {0} days ago",NumberDayAgo:"Localization for socialbar {0} day ago",NumberHourAgo:"Localization for socialbar {0} hour ago",NumberMinuteAgo:"Localization for socialbar {0} minute ago",NumberHoursAgo:"Localization for socialbar {0}h ago",NumberMinutesAgo:"Localization for socialbar {0}m ago",emojiLabellike:"Localization for socialbar Like",emojiLabellove:"Localization for socialbar Love",emojiLabelsurprised:"Localization for socialbar Surprised",emojiLabelthinking:"Localization for socialbar Thinking",emojiLabelsad:"Localization for socialbar Sad",emojiLabelangry:"Localization for socialbar Angry",emojiLabelreact:"Localization for socialbar React",thousandsShort:"Localization for socialbar {number}k",topCommentTitle:"Localization for socialbar TOP COMMENT",topCommentReplyCountText:"Localization for socialbar {number} replies",topCommentReadMoreButtonText:"Localization for socialbar Keep reading",reactionMenuAriaLabel:"Localization for socialbar reactions",ariaLabelShowReactions:"Localization for socialbar Show reactions",ariaLabelReactionButtonSingular:"Localization for socialbar {number} reaction",ariaLabelReactionButtonPlural:"Localization for socialbar {number} reactions",ariaLabelCommentsCount:"Localization for socialbar See {0} comments"})),Object(r.c)("likeButtonShowWhenHoverReaction","Enable like button show only when hover reaction")),Object(r.c)("enableReactionEmojiButton","Enable replacing the like button with thumb up to an add-reaction emoji button")),Object(r.c)("visibleOnlyReactions","Only show reaction counts")));var l=o("D57K"),u=o("HAaN");const d=(e,t,o,n)=>{o?u.b.resetRating(u.a.contents,e,n):u.b.rate(u.a.contents,e,t,!0,n)};var p=o("WO7E"),m=o("TRvk"),h=o("Am8i"),b=o("u5KZ"),g=o("JnE6"),y=o("dMmp"),v=o("6BDD");function f(e,t,o="{number}k",n=!1){return e?e<1e3?""+e:e<9900?y.String.Format(o,{number:(i=e/1e3,i.toLocaleString(t,{minimumFractionDigits:1,maximumFractionDigits:1}))}):y.String.Format(o+"{plus}",{number:9,plus:n?"+":""}):void 0;var i}function C(e){return e&&e.length>0?`${e[0].toUpperCase()}${e.slice(1)}`:e}function w(e){let t,o=e;const n=e.getBoundingClientRect();for(;!t;){if(o.parentElement)o=o.parentElement;else{if(!o.getRootNode().host)return;o=o.getRootNode().host}const e=o.getBoundingClientRect();e.width>=n.width&&e.height>=n.height&&(t=o)}return t}function T(e,t){return v.b`<div class="emoji-icon ${t||"noMask"}" data-type=${e}></div>`}const R=e=>{b.a&&e&&b.a.sendContentViewEvent(e,g.b.View)},O=(e,t)=>{const o=function(e){const t=e?e.split("_"):[];return t.length>0?t[0]:e}(t);if(!e)return;const n=e.addOrUpdateChild({name:"Socialbar",type:h.f.Undefined}),i=n.addOrUpdateChild({name:"ReactionsPopup",behavior:h.c.Show,content:{id:o,headline:"ReactionsPopup"},type:h.f.DropDown}),a=n.addOrUpdateChild({name:"Comments",behavior:h.c.Navigate,content:{id:o,headline:"Comments",type:h.d.Article},type:h.f.ActionButton}),r=n.addOrUpdateChild({name:"Reactions",behavior:h.c.Navigate,content:{id:o,headline:"Reactions",type:h.d.Article},type:h.f.ActionButton}),s=n.addOrUpdateChild({name:"Reaction",behavior:h.c.Show,content:{id:o,headline:e.contract&&e.contract.content&&e.contract.content.headline},type:h.f.ActionButton}),c=Object.values(p.a).reduce((e,t)=>{const n=C(t);return e[t]=s.addOrUpdateChild({name:n,behavior:k[t],content:{id:o,headline:n},action:h.b.Click,type:h.f.ActionButton}),e},{}),l=Object.values(p.a).reduce((e,t)=>{const n="Undo "+C(t);return e[t]=s.addOrUpdateChild({name:n,behavior:k[t],action:h.b.Click,content:{id:o,headline:n},type:h.f.ActionButton}),e},{}),u=n.addOrUpdateChild({name:"TopCommentIcon",behavior:h.c.Show,action:h.b.Hover,content:{headline:"TopCommentIcon"},type:h.f.ActionButton}),d=(e=>{if(!e)return;const t=e.addOrUpdateChild({name:"TopComment",action:h.b.Click,behavior:h.c.Navigate,content:{headline:"TopComment"},type:h.f.ActionButton});return{componentRoot:e,topComment:t}})(e).topComment;return{componentRoot:e,socialBar:n,reactionMenu:i,reactionsParent:s,reactionTelemetryObjects:c,undoReactionTelemetryObjects:l,commentsButton:a,reactionsCountButton:r,topCommentIcon:u,topCommentTelemetryContext:d}},k={[p.a.angry]:h.c.Angry,[p.a.like]:h.c.Like,[p.a.love]:h.c.Love,[p.a.sad]:h.c.Sad,[p.a.surprised]:h.c.Surprised,[p.a.thinking]:h.c.Thinking},S={reactionMenuLoaded:e=>{b.a&&e&&b.a.sendContentViewEvent(e,g.b.View)},genericClick:(e,t,o)=>{b.a&&e&&b.a.sendActionEvent(e,t||h.b.Click,o)},reactionMenuTriggerMouseEnter:e=>{S.genericClick(e,h.b.Hover,h.c.Show)}};var j=o("QBS5"),M=o("oePG");o("mKwt");function P(e){const t=window.location.search.substring(1).split("&"),o=[];for(let n=0;n<t.length;n++){const i=t[n].split("=");i[0].toLowerCase()==e.toLowerCase()&&o.push(i[1])}return o.length>0?o.map(e=>decodeURIComponent(e||"")).join(","):null}function x(e,t,o){const n={};["fdhead","item","rt","theme","ocid","env","oneservice_enable_ppe"].map(e=>{const t=P(e);null!==t&&(n[e]=t)});const i=(a=n)&&Object.keys(a).length>0?"?"+Object.keys(a).map((function(e){return a[e].split(",").map(t=>t?`${e}=${encodeURIComponent(t)}`:e).join("&")})).join("&"):"";var a;t&&e.indexOf("/en-us/")>0&&(e=e.replace("/en-us/",`/${t}/`)),window.location.origin.indexOf("://int.msn.com")>0&&e.indexOf("://www.msn.com")>0&&(e=e.replace("://www.msn.com","://int.msn.com"));const r=[e];return i&&-1!=e.indexOf("?")?r.push("&"+i.substring(1)):i&&r.push(i),r.push(o?"#comments&commentId="+o:""),r.join("")}var E=o("rvYQ");function A(e){if(E.b.CurrentRequestTargetScope&&E.b.CurrentRequestTargetScope.pageExperiments&&e){return!!E.b.CurrentRequestTargetScope.pageExperiments.find(t=>t&&t.toLowerCase()==e.toLowerCase())}return!1}var L=o("IqCT"),D=o("Gsg7");class B extends L.a{constructor(){super(...arguments),this.onReaction=(e,t,o)=>{n.sendContentReaction(e,p.a[t.toLowerCase()],o)}}experienceConnected(){}getExperienceType(){return s.a.socialBarWC}shadowDomPopulated(){!this.contentId||this.socialMetadata&&!u.b.isURL(this.contentId)||this.fetchContentData()}fetchContentData(){u.b.getContentById(this.contentId,this.locale).then(e=>{const{id:t,reactionCounts:o,reactionAllowListSegments:n,reactionBlockListSegments:i,totalCommentCount:a}=e;if(this.reactionBlockCheckEnabled&&this.destinationUrl&&(this.reactionsDisabled=!function(e,t,o,n){if(!e||!o&&!n||e.match("bypasslist=true"))return!0;const i=e.match("/community/embed/")&&t&&x(t)||e;if(!i)return!0;const a=(new Date).toISOString();if(o)try{o=JSON.parse(o).filter(e=>e.expiryDate?new Date(e.expiryDate).toISOString()>=a:e).filter(e=>e.keyword).map(e=>e.keyword).join(",")}catch(e){}if(n)try{n=JSON.parse(n).filter(e=>e.expiryDate?new Date(e.expiryDate).toISOString()>=a:e).filter(e=>e.keyword).map(e=>e.keyword).join(",")}catch(e){}if(o){const e=o.split(","),t=e.filter(e=>0==e.indexOf("fd:")).map(e=>e.substring(3));if(!(e.filter(e=>-1==e.indexOf("fd:")).map(e=>{try{return new RegExp(e,"g")}catch(t){return e}}).find(e=>i.match(e))||t.find(e=>A(e))))return!1}if(n){const e=n.split(","),t=e.filter(e=>0==e.indexOf("fd:")).map(e=>e.substring(3));if(e.filter(e=>-1==e.indexOf("fd:")).map(e=>{try{return new RegExp(e,"g")}catch(t){return e}}).find(e=>i.match(e))||t.find(e=>A(e)))return!1}return!0}(this.destinationUrl,this.destinationUrl,n,i),this.reactionsDisabled))return;this.contentId=t.indexOf("_")>0?t.split("_")[0]:t;const r=t&&m.a.getLocalContentReaction(t);this.selfFetchedSocialBarData={id:t,myReaction:r,reactionCounts:o,totalCommentsCount:a}})}get socialBarData(){if(!this.contentId||!this.locale)return null;const{myReaction:e,reactionSummary:t,commentSummary:o,topComments:n}=this.socialMetadata||{};return m.a.mapFeedResponseToSocialBarData(`${this.contentId}_${this.locale}`,e,t,o,n)}get telemetryContext(){if(this.contentId&&this.locale)return this._telemetryContext||(this._telemetryContext=O(new D.a({name:"SocialBarContainer"}),`${this.contentId}_${this.locale}`)),this._telemetryContext}}Object(l.e)([j.b],B.prototype,"destinationUrl",void 0),Object(l.e)([j.b],B.prototype,"contentId",void 0),Object(l.e)([j.b],B.prototype,"locale",void 0),Object(l.e)([M.d],B.prototype,"socialMetadata",void 0),Object(l.e)([M.d],B.prototype,"selfFetchedSocialBarData",void 0),Object(l.e)([M.d],B.prototype,"rootTelemetryObject",void 0),Object(l.e)([j.b],B.prototype,"likeButtonAlwaysVisible",void 0),Object(l.e)([j.b],B.prototype,"hideComments",void 0),Object(l.e)([j.b],B.prototype,"reactionsDisabled",void 0),Object(l.e)([j.b],B.prototype,"reactionBlockCheckEnabled",void 0),Object(l.e)([j.b],B.prototype,"theme",void 0),Object(l.e)([j.b],B.prototype,"disableReactionsTooltip",void 0);var N=o("6vBc"),I=o("+53S"),F=o("Nc2c"),U=o("UNqU");const $=v.b`<svg xmlns="http://www.w3.org/2000/svg" class="cwt-icon-vector" viewBox="0 0 16 16"><path fill="currentColor" d="M0 3.857A2.857 2.857 0 012.857 1h10.286A2.857 2.857 0 0116 3.857v5.714a2.857 2.857 0 01-2.857 2.858H8.786l-3.5 3.062c-.724.634-1.857.12-1.857-.843v-2.22h-.572A2.857 2.857 0 010 9.572V3.857zm2.857-1.714c-.947 0-1.714.767-1.714 1.714v5.714c0 .947.767 1.715 1.714 1.715h1.714v3.312l3.786-3.312h4.786c.947 0 1.714-.768 1.714-1.715V3.857c0-.947-.767-1.714-1.714-1.714H2.857z"/></svg>`,H=(v.b`<svg width="16" height="16" class="cwt-icon-vector" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M3.5 2A2.5 2.5 0 001 4.5v5A2.5 2.5 0 003.5 12H4v1.942a.98.98 0 001.625.738L8.688 12H12.5A2.5 2.5 0 0015 9.5v-5A2.5 2.5 0 0012.5 2h-9z"/></svg>`,v.b`<svg width="16" height="16" class="cwt-icon-vector" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10.853 2.049a.28.28 0 01.033.02.9.9 0 01.209.224l.004.006.005.006c.167.223.232.621-.033 1.32-.15.383-.333.75-.548 1.1a7.76 7.76 0 01-.083.11c-.143.191-.325.433-.458.767-.037.091-.07.182-.101.273-.144.434-.013.836.24 1.117.239.265.581.425.923.476.31.046.615.11.92.193h.003c.58.156.957.333 1.18.509.205.163.254.3.254.427a.941.941 0 01-.082.374c-.071.15-.087.327-.083.45.002.07.012.158.04.248.021.067.067.185.172.286.1.145.146.313.136.485l-.001.015v.015a.18.18 0 01-.072.118l-.006.004a.903.903 0 01-.021.016c-.291.22-.461.65-.261 1.05a.766.766 0 01-.002.434.965.965 0 01-.063.108c-.042.061-.088.12-.12.16-.128.097-.252.221-.351.365a1.137 1.137 0 00-.214.637v.24a.223.223 0 01-.03.088.995.995 0 01-.123.142l-.077.083c-.078.084-.138.148-.205.208a.483.483 0 01-.179.112 9.079 9.079 0 01-.555.136.372.372 0 01-.049.007c-.267.022-1.358.107-2.08.103-1.18-.008-1.966-.02-2.883-.24l-.003-.002c-.476-.11-.87-.205-1.195-.297a1.62 1.62 0 00-.44-.062H2.78c-.22 0-.373-.13-.412-.282a36.972 36.972 0 01-.043-.164c-.18-.703-.248-1.091-.275-1.801-.032-.827-.007-1.277.185-2.057.029-.115.15-.223.323-.223h1.515a1.59 1.59 0 001.312-.703c.21-.31.44-.634.68-.97.361-.506.664-.91.912-1.217.25-.31.425-.497.537-.59A60.799 60.799 0 009.069 4.63l.006-.006.006-.005c.373-.332.635-.57.843-.808.219-.25.37-.492.547-.824.093-.174.138-.352.168-.479a1.26 1.26 0 01.214-.46zm-.788-.68A.994.994 0 0110.828 1c.487 0 .858.33 1.112.687.482.648.416 1.484.101 2.31l-.001.004c-.175.448-.39.877-.643 1.285l-.009.015-.01.014c-.052.073-.098.134-.139.19-.13.174-.214.287-.292.483a3.772 3.772 0 00-.08.214c-.008.027-.006.04-.005.044a.125.125 0 00.032.05c.052.058.16.123.303.144.348.052.694.123 1.04.218.639.171 1.171.394 1.553.696.399.315.65.732.65 1.243a1.98 1.98 0 01-.15.748c.242.34.353.742.332 1.142a1.204 1.204 0 01-.406.865c.106.343.097.7.005 1.023-.045.163-.14.314-.201.406a3.245 3.245 0 01-.204.271.59.59 0 01-.138.127.562.562 0 00-.135.135.225.225 0 00-.03.057v.294l-.004.028c-.049.446-.277.687-.414.832a2.53 2.53 0 00-.07.076 4.246 4.246 0 01-.3.302 1.501 1.501 0 01-.583.332c-.257.073-.511.13-.622.153-.061.013-.12.021-.18.026-.26.021-1.396.111-2.17.106-1.171-.008-2.071-.016-3.12-.269-.472-.11-.889-.21-1.238-.308a.583.583 0 00-.158-.023H2.78c-.629 0-1.243-.39-1.418-1.06l-.044-.168c-.194-.759-.276-1.221-.307-2.019-.034-.898-.006-1.449.215-2.346.156-.632.736-1.014 1.332-1.014h1.515a.55.55 0 00.452-.246c.218-.321.453-.654.694-.991.367-.514.683-.937.949-1.266.26-.323.492-.58.69-.744l.006-.004.005-.005a60.176 60.176 0 001.527-1.22c.378-.337.587-.53.743-.71.148-.169.257-.336.414-.63a.964.964 0 00.073-.227 2.3 2.3 0 01.428-.89l.005-.005.005-.006z"/></svg>`),z=v.b`<svg width="16" height="16" class="cwt-icon-vector" xmlns="http://www.w3.org/2000/svg"><path d="M8 5l4 4H4l4-4z" fill="currentColor"/></svg>`,W=v.b`<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
  <path fill="currentColor" d="M9 1C13.4183 1 17 4.58172 17 9C17 9.19805 16.9928 9.39442 16.9787 9.58886C16.6673 9.4314 16.3389 9.30268 15.997 9.20619C15.999 9.1377 16 9.06897 16 9C16 5.13401 12.866 2 9 2C5.13401 2 2 5.13401 2 9C2 12.866 5.13401 16 9 16C9.06897 16 9.1377 15.999 9.20619 15.997C9.30268 16.3389 9.4314 16.6673 9.58886 16.9787C9.39442 16.9928 9.19805 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1Z"/>
  <path fill="currentColor" d="M6.15467 11.4273C7.02454 12.3027 8.19797 12.6929 9.33847 12.5969C9.33008 12.6191 9.32188 12.6415 9.31387 12.6641C9.20621 12.9682 9.12455 13.2846 9.07154 13.6106C7.76002 13.6292 6.44289 13.136 5.44533 12.1322C5.25069 11.9363 5.25169 11.6197 5.44757 11.4251C5.64344 11.2304 5.96002 11.2314 6.15467 11.4273Z"/>
  <path fill="currentColor" d="M11.5 6.5C12.0523 6.5 12.5 6.94772 12.5 7.5C12.5 8.05228 12.0523 8.5 11.5 8.5C10.9477 8.5 10.5 8.05228 10.5 7.5C10.5 6.94772 10.9477 6.5 11.5 6.5Z"/>
  <path fill="currentColor" d="M6.5 6.5C7.05228 6.5 7.5 6.94772 7.5 7.5C7.5 8.05228 7.05228 8.5 6.5 8.5C5.94772 8.5 5.5 8.05228 5.5 7.5C5.5 6.94772 5.94772 6.5 6.5 6.5Z"/>
  <path fill="currentColor" d="M19 14.5C19 16.9853 16.9853 19 14.5 19C12.0147 19 10 16.9853 10 14.5C10 12.0147 12.0147 10 14.5 10C16.9853 10 19 12.0147 19 14.5ZM15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5V14H12.5C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15H14V16.5C14 16.7761 14.2239 17 14.5 17C14.7761 17 15 16.7761 15 16.5V15H16.5C16.7761 15 17 14.7761 17 14.5C17 14.2239 16.7761 14 16.5 14H15V12.5Z"/>
</svg>`;var V=o("m1Vi");const Y="data:image/png;base64,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",G=(e,t)=>`.${t} > div.emoji-icon {\n    background-image: url("${Y}");\n    width: ${e}px;\n    height: ${1.125*e}px;\n    background-size: ${e*Object.keys(p.a).length}px auto;\n    background-repeat: no-repeat;\n}\n${Object.keys(p.a).map((o,n)=>`.${t} > [data-type="${o}"] { background-position: -${e*n}px 0;}`).join("\n")}`,q=(e,t)=>`url('data:image/svg+xml,%3Csvg width="${t}" height="${t}" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" ${{likeMaskImage:'d="M2.7 28H28V0H1L.3 2.3l-.4 1v5.9l1.2.3c1.5.4 2.6.9 3.4 1.5.8.7 1.3 1.5 1.3 2.5a4.2 4.2 0 01-.4 1.7 1 1 0 000 .3c.6.8.9 1.6.8 2.5a2.3 2.3 0 01-1 1.8v.4c.3.7.3 1.4.1 2.1a3 3 0 01-1 1.7c-.5.3-.7.6-.7.9v.7c0 1-.4 1.9-1 2.4z" fill="%23FFC700"',loveMaskImage:'d="M0 23.2V28h28V0H0v.3a10.7 10.7 0 017.8 12.4 16 16 0 01-5.7 8.8L0 23.2z" fill="%23FFC700"',circleMaskImage:'d="M1.3 28H28V0H1.3l1.4 1.3C6.2 4.6 8 9.3 8 14a17.2 17.2 0 01-6.7 14z" fill="%23FFC700"',likeMaskImageRTL:'d="M28 13.4432V0H0V28H28V27.9606H24.6812C23.9528 27.9606 23.2572 27.5051 23.0133 26.7486C22.8826 26.3432 22.7714 25.9262 22.6904 25.4899C22.258 23.965 22.0436 22.36 22.0005 20.8064L22 20.7898L22.0004 20.7732C22.043 19.0186 22.171 17.2069 22.4727 15.4315L22.4786 15.397L22.6553 14.7781C22.8814 13.9867 23.5867 13.4432 24.3877 13.4432H28Z" fill="%23FFC700"',loveMaskImageRTL:'d="M28 0H0V28H28V24.0646C26.6312 23.0066 25.2744 21.9085 23.9784 20.7129L23.9768 20.7114C21.7049 18.6011 19.7588 15.9392 19.1724 12.7661L19.1717 12.7619C18.635 9.73528 19.3673 6.65994 21.221 4.15415L21.2256 4.14796C22.8656 1.9878 25.2984 0.558465 28 0.13032V0Z" fill="%23FFC700"',circleMaskImageRTL:'d="M26.6749 0H0V28H26.6429C26.1637 27.6039 25.7043 27.1811 25.2673 26.7327C21.8516 23.4034 19.9163 18.7723 20.0028 14C19.9163 9.22999 21.8499 4.5982 25.2673 1.31048C25.7146 0.845747 26.1846 0.408516 26.6749 0Z" fill="%23FFC700"'}[e]} /%3E%3C/svg%3E')`;var Z=o("P4Ao");class X extends Z.a{reactionCountsChanged(){this.updateState()}maxNumberOfEmojisChanged(){this.updateState()}updateState(){this.mostReactions=this.extractMostReactionsFromReactionCounts(this.reactionCounts,this.maxNumberOfEmojis)}extractMostReactionsFromReactionCounts(e,t){return e?Object.entries(e).filter(e=>e[1]>0).sort((e,t)=>t[1]-e[1]).map(e=>e[0]).slice(0,t||3):[]}}Object(l.e)([M.d],X.prototype,"reactionCounts",void 0),Object(l.e)([M.d],X.prototype,"maxNumberOfEmojis",void 0),Object(l.e)([j.b],X.prototype,"mostReactions",void 0);var J=o("CzTk"),Q=o("4X57");const K={angry:"circleMask",like:"likeMask",love:"loveMask",sad:"circleMask",surprised:"circleMask",thinking:"circleMask"},_=G(16,"msn-social-most-reactions"),ee=Q.a`
    .msn-social-most-reactions .emoji-icon:not(:first-child) {
        margin-left: -3px;
    }
    .msn-social-most-reactions > .likeMask {
        -webkit-mask-image: ${q("likeMaskImage",16)};
    }
    .msn-social-most-reactions > .loveMask {
        -webkit-mask-image: ${q("loveMaskImage",16)};
    }
    .msn-social-most-reactions > .circleMask {
        -webkit-mask-image: ${q("circleMaskImage",16)};
    }
`,te=Q.a`
    .msn-social-most-reactions .emoji-icon:not(:first-child) {
        margin-right: -3px;
    }
    .msn-social-most-reactions > .likeMask {
        -webkit-mask-image: ${q("likeMaskImageRTL",16)};
    }
    .msn-social-most-reactions > .loveMask {
        -webkit-mask-image: ${q("loveMaskImageRTL",16)};
    }
    .msn-social-most-reactions > .circleMask {
        -webkit-mask-image: ${q("circleMaskImageRTL",16)};
    }
`,oe=Q.a`
    .msn-social-most-reactions {
        display: flex;
    }
    ${_}
    .msn-social-most-reactions > .emoji-icon:nth-child(1) {
        z-index: 2;
    }
    .msn-social-most-reactions > .emoji-icon:nth-child(2) {
        z-index: 1;
    }
    .msn-social-most-reactions > .emoji-icon:nth-child(3) {
        z-index: 0;
    }
`.withBehaviors(new J.a(ee,te));function ne(e,t){const o=t.indexOf(e);if(!(o<1))return t[o-1]}const ie=v.b`
    <div class="msn-social-most-reactions">
        ${Object(U.c)(e=>e.mostReactions,v.b`
            ${(e,t)=>{return o=e,n=ne(e,t.parent.mostReactions)?K[ne(e,t.parent.mostReactions)]:"noMask",v.b`<div class="emoji-icon ${n||"noMask"}" data-type=${o}></div>`;var o,n}}
        `)}
    </div>
`;let ae=class extends X{};ae=Object(l.e)([Object(Z.b)({name:"msn-social-most-reactions",template:ie,styles:oe})],ae);const re=G,se={[p.a.like]:"#FF9637",[p.a.love]:"#FF5952",[p.a.surprised]:"#FF9637",[p.a.thinking]:"#FF9637",[p.a.sad]:"#FF9637",[p.a.angry]:"#FF5952"},ce={default:"default",redesign:"redesign",superappDefault:"superappDefault",superappCarouselCard:"superappCarouselCard",superappListCard:"superappListCard",topStories:"topStories",noBackPlate:"noBackPlate"},le="isTabOnReaction";var ue=o("eUhr");V.b;const de=v.b`
    <div class="button-container ${e=>e.showLikeButton?"like-visible":""}" part="like-button-container" ${Object(ue.b)(e=>e.enableReactionEmojiButton?null:e.reactionsParentTelemetryTag)}>
        <button
            part="button-bg"
            tab-index=0
            title=""
            aria-pressed="false"
            class="icon-button ${e=>e.enableReactionEmojiButton?"reaction-emoji-button":"like-button"} button-bg ${e=>e.showAccessibilityButton?"":"button-bg-last-of-type"} ${e=>e.showLikeButton&&"width-transition-enter"} ${e=>e.reactionMenuVisible&&"highlight"} accessibility-outline"
            @click=${(e,t)=>e.enableReactionEmojiButton?e.triggerShowReactionMenu():e.onReactionClickHandler(p.a.like,t.event)}
            @mouseenter=${(e,t)=>t.event&&e.reactionMenuTriggerMouseEnterHandler(t.event.currentTarget)}
            @mouseleave=${(e,t)=>e.hideReactionMenu(!0)}
            @touchstart=${(e,t)=>t.event&&e.setupTouchSlideHandlerOnTouchStart(t.event)}
            data-customhandled="1"
            ${Object(ue.b)(e=>e.enableReactionEmojiButton?e.reactionsParentTelemetryTag:e.reactionTelemetryTags&&e.reactionTelemetryTags[p.a.like])}
        >
            ${e=>e.enableReactionEmojiButton?W:H}
            ${Object(N.a)(e=>!e.enableReactionEmojiButton,v.b`<span class="icon-label">${e=>e.likeButtonLabel}</span>`)}
        </button>
        <button ${Object(I.b)("reactionPanelAccessButton")}
                tab-index=0
                role="button"
                aria-pressed=${e=>e.reactionMenuVisible}
                class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.reactionMenuVisible&&"highlight"}"
                part="button-bg"
                title=""
                aria-label="${e=>e.localizedStrings.ariaLabelShowReactions}"
                @click=${(e,t)=>{e.accessToggleReactionMenu()}}
            >
            <span role="presentation" aria-hidden="true">
                ${z}
            </span>
        </button>
    </div>
`,pe=v.b`
    <div class="button-container active-reaction-visible" part="active-button-container" ${Object(ue.b)(e=>e.reactionsParentTelemetryTag)}>
        <button
            tab-index=0
            aria-pressed="true"
            class="icon-button active-reaction-button button-bg ${e=>e.showAccessibilityButton?"":"button-bg-last-of-type"} ${e=>e.reactionMenuVisible&&"highlight"} accessibility-outline"
            part="button-bg"
            @click=${(e,t)=>e.onReactionClickHandler(e.myReaction,t.event)}
            @mouseenter=${(e,t)=>t.event&&e.reactionMenuTriggerMouseEnterHandler(t.event.currentTarget)}
            @mouseleave=${(e,t)=>e.hideReactionMenu(!0)}
            @touchstart=${(e,t)=>t.event&&e.setupTouchSlideHandlerOnTouchStart(t.event)}
            data-customhandled="1"
            ${Object(ue.b)(e=>e.undoReactionTelemetryTags&&e.undoReactionTelemetryTags[e.myReaction])}
        >${e=>T(e.myReaction)}
            <span class="icon-label" style="color: ${e=>se[e.myReaction]}">
                ${e=>e.t["emojiLabel"+e.myReaction]}
            </span></button><button ${Object(I.b)("reactionPanelAccessButton")}
                tab-index=0
                aria-pressed=${e=>e.reactionMenuVisible}
                class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.reactionMenuVisible&&"highlight"}"
                part="button-bg"
                title=""
                aria-label="${e=>e.localizedStrings.ariaLabelShowReactions}"
                @click=${(e,t)=>{e.accessToggleReactionMenu()}}
            >
                ${z}
        </button>
    </div>
`,me=v.b`<div ${Object(I.b)("reactionMenu")} ${Object(F.b)("reactionButtons")}
        part="reaction-menu-container"
        class="reaction-menu-container"
        aria-label=${e=>e.t.reactionMenuAriaLabel}
        title = ""
        @mouseenter=${(e,t)=>e.triggerShowReactionMenu()}
        @mouseleave=${(e,t)=>e.hideReactionMenu(!0)}
        role="toolbar"
        ${Object(ue.b)(e=>e.reactionMenuTelemetryTag)}
    >${Object(U.c)(e=>Object.keys(p.a),v.b`<button
                title=""
                tab-index=0
                aria-pressed="${(e,t)=>t.parent.myReaction==e}"
                data-title="${(e,t)=>t.parent.t["emojiLabel"+e]||e}"
                class="reaction-menu-emoji-button accessibility-outline"
                @click=${(e,t)=>t.parent.onReactionClick(e,null==t?void 0:t.event)}
                @keydown=${(e,t)=>t.parent.handleKeyPress(t)}
                @mouseenter=${(e,t)=>{document.activeElement.blur(),t.parent.triggerMoveLabel(t.index),t.parent.emojiFocused(e)}}
                @mouseleave=${(e,t)=>{t.parent.emojiFocused(null)}}
                data-faded="${(e,t)=>t.parent.focusedEmojiKey&&t.parent.focusedEmojiKey!=e}"
                ${Object(ue.b)((e,t)=>t.parent.myReaction==e?t.parent.undoReactionTelemetryTags&&t.parent.undoReactionTelemetryTags[e]:t.parent.reactionTelemetryTags&&t.parent.reactionTelemetryTags[e])}
            >
                <span class="emoji-label ${(e,t)=>t.parent.shouldLabelRenderBelow?"emoji-label-bottom":""}">
                    ${(e,t)=>t.parent.t["emojiLabel"+e]}
                </span>${e=>T(e)}
            </button>`,{positioning:!0})}
        </div>
`,he=v.b`
    <div
        class="reactions-count-tool-tip-container"
        title = ""
        @mouseenter=${e=>e.triggerShowReactionsCountToolTip()}
        @mouseleave=${e=>e.hideReactionsCountToolTip(!0)}
    >
        ${Object(U.c)(e=>Object.keys(e.socialBarData.reactionCounts).sort((t,o)=>0-(e.socialBarData.reactionCounts[t]>e.socialBarData.reactionCounts[o]?1:-1)),v.b`
                <div class="reactions-count-tool-tip-emoji-button accessibility-outline">
                    ${(e,t)=>{return o=e,(n=t.parent.socialBarData.reactionCounts[e])&&0!=n?v.b`<div class="emoji-icon noMask" data-type=${o}></div>
                    <span class="tool-tip-icon-count">${n}</span>`:void 0;var o,n}}
                </div>`)}
    </div>
`,be=v.b`<msn-social-most-reactions :reactionCounts=${e=>e.reactionCountsForMostReactionEmojis} :maxNumberOfEmojis="${e=>{return t=e.totalReactionsCountLabel,o=e.totalCommentsCountLabel,t&&o&&t.length+o.length>4?2:3;var t,o}}"/>`,ge=v.b`<a 
        href=${e=>e.destinationUrl}
        target="_blank"
        part="reactions-count-button"
        class="icon-button reactions-count-button ${e=>e.reactionsCountToolTipVisible&&"highlight"} accessibility-outline"
        @mouseenter=${(e,t)=>e.reactionsCountToolTipEnabled&&t.event&&e.reactionsCountToolTipTriggerMouseEnterHandler(t.event.currentTarget)}
        @mouseleave=${(e,t)=>e.reactionsCountToolTipEnabled&&e.hideReactionsCountToolTip(!0)}
        title=""
        role="link"
        aria-label="${e=>{return t=e.localizedStrings,(o=e.totalReactionsCount)<=0||!t||!t.ariaLabelReactionButtonSingular||!t.ariaLabelReactionButtonPlural?"":1===o?y.String.Format(t.ariaLabelReactionButtonSingular,{number:o}):y.String.Format(t.ariaLabelReactionButtonPlural,{number:o});var t,o}}"
        ${Object(ue.b)(e=>e.reactionsCountButtonTelemetryTag)}
    >${Object(N.a)(e=>!e.myReaction||1==e.totalReactionsCount,be)}
    <span part="reaction-count" class="icon-label ${e=>e.myReaction&&1!=e.totalReactionsCount?"has-plus":""}">${e=>e.totalReactionsCountLabel}</span>
    ${Object(N.a)(e=>e.reactionsCountToolTipVisible,he)}
    </a>
`,ye=v.b`<a 
        href=${e=>e.getCommentsUrl()}
        target="_blank"
        class="icon-button comments-count-button accessibility-outline ${e=>e.topCommentVisible?"top-comment-visible":""}"
        part="comments-count-button"
        title=""
        aria-live="polite"
        aria-label="${e=>{return t=e.localizedStrings,o=e.totalCommentsCountLabel,y.String.Format(t.ariaLabelCommentsCount,o);var t,o}}"
        @mouseenter=${(e,t)=>t.event&&e.renderTopComment(t.event.currentTarget)}
        ${Object(ue.b)(e=>e.hasTopComment?e.topCommentIconTelemetryTag:e.commentsButtonTelemetryTag)}
    ><div class="icon-wrapper ${e=>e.hasTopComment?"has-top-comment-marker":""}">${$}</div>
        <span class="icon-label">${e=>e.totalCommentsCountLabel}</span>
    </a>${e=>e.hasTopComment&&e.showAccessibilityButton?v.b`<button
    id="topCommentAccessButton_${e=>e.socialBarData.id}"
    tab-index=0
    aria-pressed="false"
    class="icon-button button-bg accessibility-button accessibility-outline ${e=>e.showAccessibilityButton?"accessibility-visible button-bg-last-of-type":""} ${e=>e.topCommentVisible&&"highlight"}"
    part="button-bg"
    title=""
    @click=${(e,t)=>{e.topCommentVisible?e.removeTopComment():t.event&&e.renderTopComment(t.event.currentTarget)}}
    >${z}</button>`:""}
`,ve=v.b`<div
        class="social-bar no-select ${e=>e.showAccessibilityButton?"accessibility-visible":""} ${e=>e.theme||""}"
        part="social-bar"
        @mouseenter=${(e,t)=>e.handleHoverOnReaction()}
        @mouseleave=${(e,t)=>e.handleHoverOnReaction(!1)}
        ${Object(ue.b)(e=>e.socialBarTelemetryTag)}
    >
        ${Object(N.a)(e=>!e.visibleOnlyReactions,v.b`
            ${Object(N.a)(e=>!e.shouldHideReactions()&&e.myReaction,pe)}
            ${Object(N.a)(e=>!e.shouldHideReactions()&&!e.myReaction,de)}
            ${Object(N.a)(e=>!e.shouldHideReactions()&&e.reactionMenuVisible,me)}
            ${Object(N.a)(e=>!e.shouldHideReactions()&&e.showReactionsCount,ge)}
            ${Object(N.a)(e=>!e.shouldHideComments()&&e.showCommentsCount,ye)}
        `)}
        ${Object(N.a)(e=>e.visibleOnlyReactions,ge)}
    </div>
`;var fe=o("vjdx");class Ce extends Z.a{constructor(){super(...arguments),this.topCommentContentViewEventHandler=e=>{R(e.target)}}get shouldRenderReplyCount(){return this.showReplyCount&&this.data.replyCount>0}get shouldRenderMostReactions(){return this.showMostReactions&&Object.values(this.data.reactionCounts).reduce((e,t)=>e+t,0)>0}get shouldRenderProfileImage(){return!this.hideProfileImage}get agoText(){const{market:e,createDatetime:t}=this.data;return Object(fe.a)(new Date(t),e,this.localizedStrings)}connectedCallback(){if(super.connectedCallback(),this.enableFocusAssist){const e=this.shadowRoot.querySelectorAll(".accessible-item");e&&e.length>0&&setTimeout(()=>{e[0].focus()},75)}}}Object(l.e)([M.d],Ce.prototype,"data",void 0),Object(l.e)([M.d],Ce.prototype,"localizedStrings",void 0),Object(l.e)([j.b],Ce.prototype,"showReplyCount",void 0),Object(l.e)([j.b],Ce.prototype,"showMostReactions",void 0),Object(l.e)([M.d],Ce.prototype,"topCommentTelemetryTag",void 0),Object(l.e)([j.b],Ce.prototype,"enableFocusAssist",void 0),Object(l.e)([Object(j.b)({attribute:"hideprofileimage",mode:"boolean"})],Ce.prototype,"hideProfileImage",void 0);var we=o("kL0l");const Te=Q.a`
    .profile-avatar {
        margin-right: 6px;
    }

    .stats .reaction-counts > msn-social-most-reactions {
        transform-origin: center right;
    }
`,Re=Q.a`
    .profile-avatar {
        margin-left: 6px;
    }

    .stats .reaction-counts > msn-social-most-reactions {
        transform-origin: center left;
    }
`,Oe="0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)",ke=Q.a`
    .top-comment-card {
        max-width: var(--card-width, 300px);
        background: var(--card-background, ${we.H.var});
        border-radius: var(--card-border-radius, 4px);
        -webkit-box-shadow: var(--card-box-shadow, ${Oe});
        -moz-box-shadow: var(--card-box-shadow, ${Oe});
        box-shadow: var(--card-box-shadow, ${Oe});
        margin: var(--card-margin, 0);
    }

    .header {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: var(--header-padding, 8px 12px 4px);
        font-size: var(--header-font-size, 10px);
        font-weight: var(--header-font-weight, 600);
        color: var(--header-text-color, ${we.O.var})
    }

    .stats, .stats .reaction-counts {
        display: flex;
        align-items: center;
    }
    .stats .reply-count {
        margin: 0 6px;
    }
    .stats .reaction-counts > msn-social-most-reactions {
        transform: scale(calc(14/16));
    }

    .stats .reaction-counts .icon-label {
        margin: 0 3px;
    }

    .header .title {
        text-transform: uppercase;
    }

    a.card-body-link {
        display: flex;
        padding: var(--body-padding, 4px 12px 12px);
        margin: var(--body-margin, 0);
        font-size: 12px;
        text-decoration: none;
        border-radius: var(--body-border-radius, 0);
        background: var(--body-background, none);
        -webkit-tap-highlight-color: transparent;
    }

    .card-body-link:hover {
        background: var(--body-hover-background, ${we.u.var})
    }

    .profile-avatar {
        height: 20px;
        min-width: 20px;
        max-width: 20px;
        border-radius: 50%;
    }

    .comment-header {
        display: flex;
        align-items: center;
        min-height: 20px;
    }

    .accent-text {
        color: var(--accent-text-color, ${we.h.var});
        text-decoration: none;
        font-weight: 600;
    }

    .ago-text {
        color: var(--ago-text-color, ${we.E.var});
        text-decoration: none;
        padding: 0 8px;
    }

    .comment-body {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: var(--body-max-lines, 4);
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: var(--body-text-font-size, 12px);
        line-height: var(--body-text-line-height, 16px);
        max-height: 64px;
        margin: 2px 0;
        color: var(--body-text-color, ${we.G.var});
        opacity: .85;
    }

    .read-more-link{
        font-size: 11px;
        font-weight: normal;
    }
`.withBehaviors(we.H,we.O,we.h,we.P,we.G,we.u,we.E,new J.a(Te,Re)),Se="https://assets.msn.com/staticsb/statics/latest/community/img/avatar-placeholder.svg",je=v.b`
    <div class="top-comment-card" title="">
        <header class="header">
            <span class="title">${e=>e.localizedStrings.topCommentTitle}</span>
            <div class="stats">
                ${Object(N.a)(e=>e.shouldRenderReplyCount,v.b`
    <span class="reply-count">${e=>y.String.Format(e.localizedStrings.topCommentReplyCountText,{number:e.data.replyCount})}</span>
`)}
                ${Object(N.a)(e=>e.shouldRenderMostReactions,v.b`
    <div class="reaction-counts">
        ${e=>{return t=e.data.reactionCounts,v.b`
    <msn-social-most-reactions :reactionCounts=${e=>t} />
`;var t}}
        <span class="icon-label">
            ${e=>Object.keys(e.data.reactionCounts).map(t=>e.data.reactionCounts[t]).reduce((e,t)=>e+t)}
        </span>
    </div>
`)}
            </div>
        </header>
        <a
            class="card-body-link accessible-item"
            href="${e=>e.data.commentUrl}"
            target="_blank"
            title=""
            @mouseenter=${(e,t)=>e.topCommentContentViewEventHandler(t.event)}
            ${Object(ue.b)(e=>e.topCommentTelemetryTag)}
            tab-index=0
            aria-label="${e=>e.localizedStrings.topCommentReadMoreButtonText}">
            <div class="column">
                ${Object(N.a)(e=>e.shouldRenderProfileImage,v.b`
    <img alt="Profile Picture" class="profile-avatar" src="${e=>e.data.avatarUrl||Se}" width="20" height="20" onerror="this.onerror=null; this.src = '${Se}';"/>
`)}
            </div>

            <div class="column">
                <div class="comment-header">
                    <span class="accent-text">
                        ${e=>e.data.username}
                    </span>
                    <span class="ago-text">${e=>e.agoText}</span>
                </div>
                <div class="comment-body">${e=>e.data.commentBody}</div>
                <span class="accent-text read-more-link">
                    ${e=>e.localizedStrings.topCommentReadMoreButtonText}
                </span>
            </div>
        </a>
    </div>
`;let Me=class extends Ce{};function Pe(e){document.body.style["-webkit-touch-callout"]=e,document.body.style["-webkit-user-select"]=e,document.body.style["-khtml-user-select"]=e,document.body.style["-moz-user-select"]=e,document.body.style["-ms-user-select"]=e,document.body.style["user-select"]=e}function xe(e){let t;if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){const o=void 0===e.originalEvent?e:e.originalEvent,n=o.touches[0]||o.changedTouches[0];t={x:n.clientX,y:n.clientY}}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(t={x:e.clientX,y:e.clientY});return t}function Ee(e,t){if(!e||!t)return;const o=t.getBoundingClientRect(),n=xe(e);return o.left<=n.x&&o.right>=n.x&&o.top<=n.y&&o.bottom>=n.y}function Ae(e,t={}){try{t=Object.assign({type:e},t),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"community",data:t}))}catch(e){}}Me=Object(l.e)([Object(Z.b)({name:"msn-top-comment",template:je,styles:ke})],Me);const Le=()=>Ae("unlock-touch");var De=o("9y7U");class Be{constructor(e,t){this.longPressTimeout=250,this.reopenTimeout=50,this.slideDisabled=!1,this.longpressDisabled=!1,this.listenLongpress=e=>{if(this.hasLongpressed)return;let t=!1;const o=()=>t=!0;setTimeout(()=>{t||(this.hasLongpressed=!0,this.callbacks.onLongpress&&this.callbacks.onLongpress(e),document.addEventListener("touchstart",()=>{this.hasLongpressed=!1,document.addEventListener("touchend",this.callbacks.onLongpressEnd,{once:!0}),document.addEventListener("touchmove",this.callbacks.onLongpressEnd,{once:!0})},{once:!0}))},this.longPressTimeout),e.addEventListener("touchend",o,{once:!0}),e.addEventListener("touchmove",o,{once:!0})},this.listenSlideStart=e=>{const t=()=>{this.triggerElement.removeEventListener("touchend",this.triggerClickHandler),this.callbacks.onSlideStart&&this.callbacks.onSlideStart(e),this.listenSliding()};document.addEventListener("touchmove",t,{once:!0}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",t)},{once:!0})},this.callbacks=e,this.triggerTouchStartHandler=this.triggerTouchStartHandler.bind(this),this.triggerClickHandler=this.triggerClickHandler.bind(this),this.touchEndHandler=this.touchEndHandler.bind(this),this.slideDisabled=t&&t.slideDisabled,this.longpressDisabled=t&&t.longpressDisabled}setupTrigger(e){this.triggerElement!=e&&(this.unregisterTriggerEventHandlers(),this.triggerElement=e),this.registerTriggerEventHandlers()}setupTriggerAtTouchStart(e){this.setupTrigger(e.currentTarget),this.triggerTouchStartHandler(e)}dispose(){this.unregisterTriggerEventHandlers(),this.triggerElement=null}releaseTouchEvents(){Le(),this.unregisterTriggerEventHandlers()}triggerTouchStartHandler(e){!this.longpressDisabled&&this.listenLongpress(e.currentTarget),!this.slideDisabled&&this.listenSlideStart(e.currentTarget),this.callbacks.onTouchStart&&this.callbacks.onTouchStart(e),function(e){Pe("none");const t=()=>Pe("unset");document.body.addEventListener("click",t,{once:!0}),document.body.addEventListener("mouseup",t,{once:!0}),document.body.addEventListener("touchend",t,{once:!0})}(),Ae("lock-touch"),this.enoughTimePassedSinceLastTouchEnd(e.timeStamp)}triggerClickHandler(e){this.hasLongpressed&&Ee(e,this.triggerElement)?e.stopPropagation():Ee(e,this.triggerElement)&&(this.triggerElement.click(),this.triggerElement.blur(),Le(),this.callbacks.onTriggerClick&&this.callbacks.onTriggerClick(e))}touchEndHandler(e){this.callbacks.onTouchEnd&&this.callbacks.onTouchEnd(e),this.releaseTouchEvents()}listenSliding(){this.hasLongpressed=!1;let e=0;const t=t=>{if(t.stopPropagation(),t.cancelable&&t.preventDefault(),t.timeStamp-e<Be.trackingPeriod)return;e=t.timeStamp;const o=xe(t);this.callbacks.onSlide&&this.callbacks.onSlide(o,t)};document.addEventListener("touchmove",t,{capture:!0,passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",t,{capture:!0}),this.callbacks.onSlideEnd&&this.callbacks.onSlideEnd()},{capture:!0,once:!0})}registerTriggerEventHandlers(){setTimeout(()=>{this.triggerElement&&!this.isHandled&&(this.isHandled=!0,this.triggerElement.addEventListener("touchstart",this.triggerTouchStartHandler),this.triggerElement.addEventListener("touchend",this.triggerClickHandler),document.addEventListener("touchend",this.touchEndHandler))},10)}unregisterTriggerEventHandlers(){this.triggerElement&&this.isHandled&&(this.isHandled=!1,this.triggerElement.removeEventListener("touchstart",this.triggerTouchStartHandler),this.triggerElement.removeEventListener("touchend",this.triggerClickHandler),document.removeEventListener("touchend",this.touchEndHandler))}enoughTimePassedSinceLastTouchEnd(e){return e-Be.lastTouchEndTime>this.reopenTimeout}}Be.trackingPeriod=16,Be.lastTouchEndTime=0;class Ne extends Be{constructor(e,t,o,n){super(Object.assign(Object.assign({},e),{onSlide:(t,o)=>{this.reactionMenuSlideHandler(t,o),e.onSlide&&e.onSlide(t,o)},onSlideEnd:()=>{this.reactionHandler(),e.onSlideEnd&&e.onSlideEnd()},onLongpressEnd:t=>{Ee(t,this.containerElement)||Ee(t,this.triggerElement)||e.onLongpressEnd&&e.onLongpressEnd(t)}}),n),this.virtualTray={height:140,width:100,hMargin:20},this.reactioMenuCallbacks=t,this.emojiElementSelector=o}setReactionMenuContainer(e){this.containerElement=e}dispose(){this.containerElement=null,super.dispose()}reactionHandler(){this.touchFocusedEmojiElement&&this.touchFocusedEmojiElement.click()}reactionMenuSlideHandler(e,t){if(!this.containerElement)return;const o=this.containerElement.getBoundingClientRect(),n=o.top-this.virtualTray.height/2,i=o.bottom+this.virtualTray.height/2,a=o.left,r=o.left+o.width,s=(r-a)/De.a.reactionOrder.length,c=Math.min(Math.max(Math.floor((e.x-a)/s),0),De.a.reactionOrder.length-1);if(e.x<a-this.virtualTray.hMargin||e.x>r+this.virtualTray.hMargin||e.y<n||e.y>i)this.touchFocusedEmojiElement&&this.reactioMenuCallbacks.onEmojiBlur(this.touchFocusedEmojiElement),this.touchFocusedEmojiElement=null;else{const e=this.containerElement.querySelectorAll(this.emojiElementSelector)[c];this.touchFocusedEmojiElement!=e&&(this.touchFocusedEmojiElement&&this.reactioMenuCallbacks.onEmojiBlur(this.touchFocusedEmojiElement),this.touchFocusedEmojiElement=e,this.reactioMenuCallbacks.onEmojiFocus(this.touchFocusedEmojiElement))}}}class Ie{static removeSingleInstance(){Ie.popoverInstance&&Ie.popoverInstance.remove()}static renderPopover(e,t){const o=t&&t.callbacks,n=t&&t.parentSelector&&""!=t.parentSelector.trim()||"fluent-design-system-provider",i=t&&t.hideOnOutsideClick,a=t&&t.alignParentSelectors;Ie.removeSingleInstance();const r=document.createElement("div");Ie.popoverInstance=r,r.style.visibility="hidden",r.style.position="absolute",r.style.zIndex="900",o&&o.onMount&&o.onMount(r);const s=n?Fe(n,e):document.body;s.insertAdjacentElement("afterbegin",r);const c=a.length>0?a.map(t=>Fe(t,e)).filter(e=>!!e):null,l=(c&&c.length>0?c[0]:s).getBoundingClientRect(),u=s.getBoundingClientRect(),d=e.getBoundingClientRect(),p=r.getBoundingClientRect(),m=d.bottom-p.top-1,h=u.bottom>m+p.bottom&&document.documentElement.clientHeight>m+p.bottom?m:d.top-p.bottom+1,b=d.left-p.left,g=l.right-p.right,y=l.right>b+p.right?b:g;r.style.transform=`translateX(${y}px) translateY(${h}px)`,r.style.visibility="visible";const v=()=>{r.remove(),o&&o.onDismiss&&o.onDismiss()};i?Ie.attachDismissOnOutsideClick(r,v):Ie.attachDismissOnLeave([e,r,s],v),Ie.attachDismissOnKeyPress(v)}static attachDismissOnLeave(e,t){const o=o=>{const n=setTimeout(()=>t(o),250);e.map(e=>e.addEventListener("mouseenter",()=>clearTimeout(n),{once:!0}))};e.map(e=>e.addEventListener("mouseleave",o,{once:!0}))}static attachDismissOnOutsideClick(e,t){const o=n=>{n.currentTarget!=e&&(t(n),window.removeEventListener("click",o,{capture:!0}))};window.addEventListener("click",o,{capture:!0})}static attachDismissOnKeyPress(e){const t=o=>{"Escape"!=o.key&&"Tab"!=o.key||(e(o),window.removeEventListener("keyup",t,{capture:!0}))};window.addEventListener("keyup",t,{capture:!0})}}function Fe(e,t=this,o=((t,n=t&&t.closest(e))=>!(!t||t===document||t===window)&&(n||o(t.getRootNode().host)))){return o(t)}var Ue,$e=o("9RHM");!function(e){e.labelReact="prg-rc_labelr",e.minReactions="prg-rc_min",e.minReactionPercentage="prg-rc_per",e.reactionsFlyout="prg-rc_flyout"}(Ue||(Ue={}));class He{static isFlightEnabled(e,t){return e in this.enabledFligths||(this.enabledFligths[e]=!!this.getFlight(e,t)),this.enabledFligths[e]}static applyFlights(e){const t={[Ue.labelReact]:()=>{this.isFlightEnabled(Ue.labelReact,!1)&&(e.likeButtonLabel=e.t.emojiLabelreact||e.t.emojiLabellike)},[Ue.minReactions]:()=>{if(this.isFlightEnabled(Ue.minReactions,!0))try{const t=+this.getFlight(Ue.minReactions,!0).split(Ue.minReactions)[1];e.showReactionsCount=e.totalReactionsCount>t}catch(e){}},[Ue.minReactionPercentage]:()=>{var t;if(!this.isFlightEnabled(Ue.minReactionPercentage,!0))return;const o={};try{const n=+this.getFlight(Ue.minReactionPercentage,!0).split(Ue.minReactionPercentage)[1];(null===(t=e.socialBarData)||void 0===t?void 0:t.reactionCounts)&&Object.keys(e.socialBarData.reactionCounts).forEach(t=>{e.socialBarData.reactionCounts[t]/e.totalReactionsCount>n/100&&(o[t]=e.socialBarData.reactionCounts[t])}),e.reactionCountsForMostReactionEmojis=o}catch(e){}},[Ue.reactionsFlyout]:()=>{this.isFlightEnabled(Ue.reactionsFlyout,!1)&&(e.reactionsCountToolTipEnabled=!e.disableReactionsTooltip&&[ce.default,ce.redesign,ce.noBackPlate].includes(e.theme))}};Object.values(Ue).forEach(e=>t[e]&&t[e]())}static getFlight(e,t=!1){if(E.b.CurrentRequestTargetScope&&E.b.CurrentRequestTargetScope.pageExperiments&&e){const o=E.b.CurrentRequestTargetScope.pageExperiments;return t?o.find(t=>t&&t.toLowerCase().startsWith(e.toLowerCase())):o.find(t=>t&&t.toLowerCase()==e.toLowerCase())}return null}}He.enabledFligths={};const ze=v.b`<msn-top-comment
    :data=${e=>e.data}
    :localizedStrings=${e=>e.localizedStrings}
    :showReplyCount=${e=>e.showReplyCount}
    :showMostReactions=${e=>e.showMostReactions}
    :topCommentTelemetryTag=${e=>e.topCommentTelemetryTag}
    :enableFocusAssist=${e=>e.enableFocusAssist}
/>`;class We extends Z.a{constructor(){super(...arguments),this.reactionMenuPositionFixed=!1,this.myReaction=null,this.reactionMenuCloseTimer=null,this.reactionMenuOpenTimer=null,this.hoverOnReaction=!1,this.tabOnReaction=!1,this.shouldLabelRenderBelow=!1,this.accessReactionPanelFocus=!1,this.shouldShowLikeButton=!1,this.likeButtonShowWhenHoverReaction=!1,this.enableReactionEmojiButton=!1,this.hideReactions=!1,this.showLikeButton=!1,this.reactionMenuVisible=!1,this.showAccessibilityButton=!1,this.overwriteShowLikeButton=!1,this.visibleOnlyReactions=!1,this.hideComments=!1,this.reactionsCountToolTipOpenTimer=null,this.reactionsCountToolTipCloseTimer=null,this.reactionsCountToolTipVisible=!1,this.reactionsCountToolTipEnabled=!1,this.disableReactionsTooltip=!1,this.topCommentVisible=!1,this.hasTopComment=!1,this.topCommentPopoverRef=null,this.theme=ce.default,this.shouldHideReactions=()=>this.hideReactions||this.socialBarData&&this.socialBarData.reactionsOptedOut,this.shouldHideComments=()=>this.hideComments||this.socialBarData&&this.socialBarData.commentsOptedOut,this.getCommentsUrl=()=>this.destinationUrl?this.destinationUrl+"#comments":null,this.onReactionClickHandler=(e,t)=>{S.genericClick(t.target),this.onReactionClick(e,t)},this.onReactionClick=(e,t)=>{const o=this.socialBarData,n=this.myReaction;o.reactionCounts=o.reactionCounts||{};const{id:i}=o,a=n===e;if(this.hideReactionMenu(),n==e)o.myReaction=null,o.reactionCounts[e]=o.reactionCounts[e]?o.reactionCounts[e]-1:0;else{o.myReaction=e;const t=o.reactionCounts[e]||0;if(o.reactionCounts[e]=(t||0)+1,n){const e=o.reactionCounts[this.myReaction];o.reactionCounts[n]=(e||1)-1}}this.socialBarData=Object($e.a)(o),this.$emit("on-reaction",{id:i,reactionType:e,reset:a,event:t}),t&&!t.isTrusted&&this.reactionPanelAccessButton&&setTimeout(()=>{this.reactionPanelAccessButton.focus()},75),setTimeout(()=>{this.reactionPanelAccessButton.previousElementSibling.focus()},25)},this.reactionMenuTriggerMouseEnterHandler=(e,t=!0)=>{S.reactionMenuTriggerMouseEnter(e),this.triggerShowReactionMenu(t),this.removeTopComment()},this.reactionsCountToolTipTriggerMouseEnterHandler=(e,t=!0)=>{this.triggerShowReactionsCountToolTip(t)},this.topCommentTriggerMouseEnterHandler=e=>{S.reactionMenuTriggerMouseEnter(e)},this.showReactionMenu=()=>{this.reactionMenuVisible||(this.reactionMenuPositionFixed=!1,this.shouldLabelRenderBelow=!1,this.watchReactionMenu(),setTimeout(()=>{const e=this.shadowRoot.firstChild.getElementsByClassName("reaction-menu-container");e[0]&&(this.shouldLabelRenderBelow=function(e,t){if(!e)return;const o=e.getBoundingClientRect(),n=t.elementFromPoint(o.left+32,o.top-19);return n!==e&&!e.contains(n)}(e[0],this.shadowRoot))},50),this.$emit("show-menu"),this.reactionMenuVisible=!0,this.reactionMenuOpenTimer=setTimeout(()=>{this.accessOnloadReactionPanel()},50))},this.showReactionsCountToolTip=()=>{this.reactionsCountToolTipVisible||(this.watchReactionMenu(),this.reactionsCountToolTipVisible=!0)},this.triggerMoveLabel=e=>{const t=this.reactionButtons.filter(e=>"BUTTON"==e.nodeName);t[e]&&function(e,t){if(!e)return;if(!w(t))return;const o=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=w(t).getBoundingClientRect(),a=o.left-n.left,r=o.right-n.right;if(i.left>o.left||i.right<o.right){const t=(a<0?a:0)+(r>0?r:0);if(0==Math.round(t))return;e.style.transform=`translateX(${-t}px)`}}(t[e].getElementsByClassName("emoji-label")[0],this.reactionMenu)},this.emojiFocused=e=>{this.focusedEmojiKey=e},this.handleHoverOnReaction=(e=!0)=>{this.hoverOnReaction=e,this.updateState()},this.triggerShowReactionMenu=(e=!1)=>{this.reactionMenuCloseTimer&&clearTimeout(this.reactionMenuCloseTimer),e?this.reactionMenuOpenTimer=setTimeout(()=>this.showReactionMenu(),450):this.showReactionMenu()},this.triggerShowReactionsCountToolTip=(e=!1)=>{this.reactionsCountToolTipCloseTimer&&clearTimeout(this.reactionsCountToolTipCloseTimer),e?this.reactionsCountToolTipOpenTimer=setTimeout(()=>this.showReactionsCountToolTip(),450):this.showReactionsCountToolTip()},this.hideReactionMenu=(e=!1)=>{this.emojiFocused(null),this.reactionMenuOpenTimer&&clearTimeout(this.reactionMenuOpenTimer),e?this.reactionMenuCloseTimer=setTimeout(()=>this.reactionMenuVisible=!1,200):this.reactionMenuVisible=!1},this.hideReactionsCountToolTip=(e=!1)=>{this.emojiFocused(null),this.reactionsCountToolTipOpenTimer&&clearTimeout(this.reactionsCountToolTipOpenTimer),e?this.reactionsCountToolTipCloseTimer=setTimeout(()=>this.reactionsCountToolTipVisible=!1,200):this.reactionsCountToolTipVisible=!1}}marketChanged(){this.updateState()}socialBarDataChanged(){this.updateState()}localizedStringsChanged(){this.updateState()}overwriteShowLikeButtonChanged(){this.updateState()}get t(){return this.localizedStrings||{}}updateState(){if(!this.socialBarData||!this.market||!this.localizedStrings)return;var e;this.myReaction=this.socialBarData.myReaction,this.totalReactionsCount=(e=this.socialBarData.reactionCounts)?Object.values(e).reduce((e,t)=>e+t,0):0,this.totalReactionsCountLabel=this.myReaction&&this.totalReactionsCount>1?"+ "+f(this.totalReactionsCount,this.market,this.localizedStrings.thousandsShort):f(this.totalReactionsCount,this.market,this.localizedStrings.thousandsShort,!0),this.showReactionsCount=this.totalReactionsCount>0,this.reactionCountsForMostReactionEmojis=this.socialBarData.reactionCounts,this.showCommentsCount=this.socialBarData.totalCommentsCount>0,this.totalCommentsCountLabel=f(this.socialBarData.totalCommentsCount,this.market,this.localizedStrings.thousandsShort,!0),this.likeButtonLabel=this.t.emojiLabellike,this.hasTopComment=this.socialBarData.topComments&&this.socialBarData.topComments.length>0,this.topCommentLocalizedStrings=Object.assign({},this.t),He.applyFlights(this);const t=!this.showReactionsCount||!this.likeButtonShowWhenHoverReaction||this.hoverOnReaction||this.overwriteShowLikeButton||this.tabOnReaction;this.showLikeButton=this.topCommentVisible||t&&(!this.showReactionsCount||this.shouldShowLikeButton||this.overwriteShowLikeButton||this.tabOnReaction)}watchReactionMenu(e=20){if(!this.reactionMenuPositionFixed)if(this.reactionMenu)this.reactionMenuPositionFixed=!0,function(e){if(!e)return;const t=e.getBoundingClientRect();if(!w(e))return void e.setAttribute("data-show","true");const o=w(e).getBoundingClientRect();if(o.width>=t.width&&o.height>=t.height){const n=t.left-o.left,i=t.right-o.right,a=(n<0?n:0)+(i>0?i:0);e.style.transform=`translateX(${-a}px)`}e.setAttribute("data-show","true")}(this.reactionMenu),this.touchSlideHandler&&this.touchSlideHandler.setReactionMenuContainer(this.reactionMenu),S.reactionMenuLoaded(this.reactionMenu&&this.reactionMenu.parentElement);else{if(e<1)return;setTimeout(()=>this.watchReactionMenu(--e),25)}}setupTouchSlideHandlerOnTouchStart(e){this.touchSlideHandler||(this.touchSlideHandler=new Ne({onLongpress:e=>this.reactionMenuTriggerMouseEnterHandler(e,!1),onLongpressEnd:()=>this.hideReactionMenu(),onSlideStart:e=>this.reactionMenuTriggerMouseEnterHandler(e,!1),onSlideEnd:()=>this.hideReactionMenu()},{onEmojiFocus:e=>e.classList.add("touchFocused"),onEmojiBlur:e=>e.classList.remove("touchFocused")},".reaction-menu-emoji-button",{slideDisabled:this.reactionSlideSelectDisabled})),this.touchSlideHandler.setupTriggerAtTouchStart(e)}accessToggleReactionMenu(){!this.reactionMenuVisible?(this.accessReactionPanelFocus=!0,this.triggerShowReactionMenu(!1)):this.hideReactionMenu()}handleKeyPress(e){var t;const o=e.event,n=e.index;let i=n;const a=this.reactionButtons.filter(e=>"BUTTON"==e.nodeName),r=Object.keys(p.a);37==o.keyCode?(i=(n-1+r.length)%r.length,a[i].focus()):39==o.keyCode?(i=(n+1)%r.length,a[i].focus()):27==o.keyCode||9==o.keyCode?(this.shadowRoot.activeElement.blur(),null===(t=this.reactionPanelAccessButton)||void 0===t||t.focus(),this.reactionMenuVisible=!1):13!=o.keyCode&&32!=o.keyCode||a[n].click()}accessOnloadReactionPanel(){if(this.accessReactionPanelFocus){const e=this.reactionButtons.find(e=>"BUTTON"==e.nodeName);e&&(e.focus(),this.shouldShowLikeButton=!0),this.accessReactionPanelFocus=!1}}connectedCallback(){var e,t;super.connectedCallback(),this.parentComponent=function(e,t=this){const o={},n=function e(t){var n;return t&&t!==window&&t!==document?t instanceof ShadowRoot?e(null===(n=t.getRootNode())||void 0===n?void 0:n.host):(o[t.tagName]||(o[t.tagName]=t),e(t=t.parentNode),o):o}(t);for(let t=0;t<e.length;t++)if(n[e[t]])return n[e[t]];return null}(We.parentTags,this),this.parentComponent||(this.parentComponent=this),We.registerSocialFocusManager(this),null===(e=this.parentComponent)||void 0===e||e.addEventListener("mouseenter",this.handleSocialMouseEnter),null===(t=this.parentComponent)||void 0===t||t.addEventListener("mouseleave",this.handleSocialMouseLeave)}disconnectedCallback(){var e,t;super.disconnectedCallback(),We.destroySocialFocusManager(this.parentComponent),null===(e=this.parentComponent)||void 0===e||e.removeEventListener("mouseenter",this.handleSocialMouseEnter),null===(t=this.parentComponent)||void 0===t||t.removeEventListener("mouseleave",this.handleSocialMouseLeave)}showLikeAndAccess(e){this.shouldShowLikeButton=!0,this.showAccessibilityButton=!0,e===le&&(this.tabOnReaction=!0),this.updateState()}hideLikeAndAccess(){this.shouldShowLikeButton=!1,this.showAccessibilityButton=!1,this.tabOnReaction=!1,this.updateState()}showLikeButtonHideAccess(){this.shouldShowLikeButton=!0,this.showAccessibilityButton=!1,this.updateState()}handleSocialMouseEnter(){var e;null===(e=We.parentFunctionMap.get(this))||void 0===e||e.showLikeButtonHideAccess()}handleSocialMouseLeave(){var e;null===(e=We.parentFunctionMap.get(this))||void 0===e||e.hideLikeAndAccess()}getTopComment(){return Object(l.b)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{this.hasTopComment?this.socialBarData.topComments[0].id&&u.b.getCommentById(this.socialBarData.topComments[0].id).then(e=>m.a.convertComment(e||null)).then(t=>{this.topCommentData=m.a.convertCommentToTopCommentData(t||null,this.destinationUrl,this.market),e(null)}).catch(()=>t()):t()})}))}renderTopComment(e){const t=()=>{Ie.renderPopover(e,{callbacks:{onMount:e=>{this.topCommentVisible=!0,this.topCommentPopoverRef=ze.render({data:this.topCommentData,localizedStrings:this.topCommentLocalizedStrings,showReplyCount:!0,showMostReactions:!0,topCommentTelemetryTag:this.topCommentTelemetryTag,enableFocusAssist:this.showAccessibilityButton},e),[ce.noBackPlate,ce.redesign].includes(this.theme)&&function(e,t){const o={"--accent-text-color":"--neutral-foreground-rest","--ago-text-color":"--neutral-focus","--body-background":"--neutral-layer-card","--body-hover-background":"--neutral-fill-hover","--body-text-color":"--neutral-foreground-rest","--card-background":"--neutral-layer-card","--header-text-color":"--neutral-focus"},n=getComputedStyle(e);Object.keys(o).forEach(e=>{const i=n.getPropertyValue(o[e]);i&&i.trim().length>0&&t.style.setProperty(e,i)})}(this,e.querySelector("msn-top-comment"))},onDismiss:()=>{this.removeTopComment()}},alignParentSelectors:We.parentTags})};this.topCommentTriggerMouseEnterHandler(e),this.topCommentData?t():this.getTopComment().then(t).catch(()=>null)}removeTopComment(){const e=()=>this.shadowRoot.getElementById("topCommentAccessButton_"+this.socialBarData.id),t=e();null==t||t.focus(),t&&setTimeout(()=>{var t;null===(t=this.topCommentPopoverRef)||void 0===t||t.remove(),this.showLikeAndAccess(),setTimeout(()=>{var t;null===(t=e())||void 0===t||t.focus()},50)},15),this.topCommentVisible=!1}static registerSocialFocusManager(e){0==We.parentFunctionMap.size&&document.addEventListener("keyup",We.socialFocusManagerHandler,!1),We.parentFunctionMap.has(e.parentComponent)||We.parentFunctionMap.set(e.parentComponent,e)}static destroySocialFocusManager(e){We.parentFunctionMap.has(e),We.parentFunctionMap.delete(e),We.lastFocusedParent==e&&(We.lastFocusedParent=void 0),0==We.parentFunctionMap.size&&document.removeEventListener("keyup",this.socialFocusManagerHandler,!1)}static socialFocusManagerHandler(e){var t,o;if("Tab"==e.key){const n=e.composedPath();let i,a;for(i=0;i<n.length;i++)if(We.parentFunctionMap.has(n[i])){const e=We.parentFunctionMap.get(n[i]);if(n[i]==We.lastFocusedParent){a=le,e.showLikeAndAccess(a);break}e.showLikeAndAccess(a),null===(t=We.parentFunctionMap.get(We.lastFocusedParent))||void 0===t||t.hideLikeAndAccess(),We.lastFocusedParent=n[i];break}i==n.length&&(null===(o=We.parentFunctionMap.get(We.lastFocusedParent))||void 0===o||o.hideLikeAndAccess(),We.lastFocusedParent=void 0)}}}We.parentFunctionMap=new Map,We.parentTags=["MSFT-INFO-PANE-SLIDE","MSFT-CONTENT-CARD","MSFT-ARTICLE-CARD","MSFT-ARTICLE"],Object(l.e)([M.d],We.prototype,"market",void 0),Object(l.e)([M.d],We.prototype,"socialBarData",void 0),Object(l.e)([M.d],We.prototype,"localizedStrings",void 0),Object(l.e)([M.d],We.prototype,"telemetryContext",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"reactionMenuPositionFixed",void 0),Object(l.e)([j.b],We.prototype,"myReaction",void 0),Object(l.e)([j.b],We.prototype,"reactionMenuCloseTimer",void 0),Object(l.e)([j.b],We.prototype,"reactionMenuOpenTimer",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"hoverOnReaction",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"tabOnReaction",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"showReactionsCount",void 0),Object(l.e)([j.b],We.prototype,"totalReactionsCount",void 0),Object(l.e)([j.b],We.prototype,"totalReactionsCountLabel",void 0),Object(l.e)([j.b],We.prototype,"focusedEmojiKey",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"shouldLabelRenderBelow",void 0),Object(l.e)([Object(j.b)({mode:"boolean",attribute:"show-comments-count"})],We.prototype,"showCommentsCount",void 0),Object(l.e)([j.b],We.prototype,"totalCommentsCountLabel",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"accessReactionPanelFocus",void 0),Object(l.e)([M.d],We.prototype,"destinationUrl",void 0),Object(l.e)([M.d],We.prototype,"socialBarTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"commentsButtonTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"reactionsCountButtonTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"reactionMenuTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"reactionsParentTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"reactionTelemetryTags",void 0),Object(l.e)([M.d],We.prototype,"undoReactionTelemetryTags",void 0),Object(l.e)([M.d],We.prototype,"topCommentIconTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"topCommentTelemetryTag",void 0),Object(l.e)([M.d],We.prototype,"reactionSlideSelectDisabled",void 0),Object(l.e)([M.d],We.prototype,"reactionButtons",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"likeButtonShowWhenHoverReaction",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"enableReactionEmojiButton",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"hideReactions",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"showLikeButton",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"reactionMenuVisible",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"showAccessibilityButton",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"overwriteShowLikeButton",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"visibleOnlyReactions",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"hideComments",void 0),Object(l.e)([j.b],We.prototype,"reactionsCountToolTipOpenTimer",void 0),Object(l.e)([j.b],We.prototype,"reactionsCountToolTipCloseTimer",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"reactionsCountToolTipVisible",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"reactionsCountToolTipEnabled",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"disableReactionsTooltip",void 0),Object(l.e)([Object(j.b)({mode:"boolean"})],We.prototype,"topCommentVisible",void 0),Object(l.e)([j.b],We.prototype,"topCommentData",void 0),Object(l.e)([j.b],We.prototype,"topCommentLocalizedStrings",void 0),Object(l.e)([j.b],We.prototype,"theme",void 0);const Ve=re(28,"reaction-menu-emoji-button"),Ye=re(16,"icon-button"),Ge="0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0.6px 1.8px rgba(0, 0, 0, 0.1)",qe=re(16,"reactions-count-tool-tip-emoji-button"),Ze=Q.a`
    .social-bar-root {
        padding-left: 5px;
    }
    .like-button, 
    .reaction-emoji-button {
        margin-left: -200px;
    }
    .icon-label {
        padding-left: 5px;
    }
    .icon-label.has-plus {
        margin-left: -16px;
    }
    .reaction-menu-container {
        left: 0;
    }
    .reactions-count-tool-tip-container {
        left: -8px;
    }
    .width-transition-enter {
        margin-left: 0;
    }
    .cwt-icon-vector +.cwt-icon-vector + .icon-label {
        padding-left: 2px;
    }
    .button-bg:first-of-type {
        border-top-left-radius: var(--social-button-radius, 4px);
        border-bottom-left-radius: var(--social-button-radius, 4px);
    }
    .button-bg-last-of-type {
        border-top-right-radius: var(--social-button-radius, 4px);
        border-bottom-right-radius: var(--social-button-radius, 4px);
    }

    .button-container.like-visible{
        margin-left: -4px;
        margin-right: 6px;
        overflow: visible;
    }
    .button-container.active-reaction-visible{
        margin-left: -4px;
    }
    .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-left: 14px;
    }
    .reactions-count-button {
        margin-right: 4px;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${ce.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${ce.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        margin-left: -10px;
    }

    /* THEME: TOP STORIES */
    .social-bar.${ce.topStories} .reactions-count-button:last-child {
        margin-right: 0;
        padding-right: 4px;
    }
    .social-bar.${ce.topStories} .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-left: 14px;
    }
`,Xe=Q.a`
    .social-bar-root {
        padding-right: 5px;
    }
    .like-button, 
    .reaction-emoji-button {
        margin-right: -200px;
    }
    .icon-label {
        padding-right: 5px;
    }
    .icon-label.has-plus {
        margin-right: -16px;
    }
    .reaction-menu-container {
        right: 0;
    }
    .reactions-count-tool-tip-container {
        right: -8px;
    }
    .width-transition-enter {
        margin-right: 0;
    }
    .cwt-icon-vector +.cwt-icon-vector + .icon-label {
        padding-right: 2px;
    }
    .button-bg:first-of-type {
        border-top-right-radius: var(--social-button-radius, 4px);
        border-bottom-right-radius: var(--social-button-radius, 4px);
    }
    .button-bg-last-of-type {
        border-top-left-radius: var(--social-button-radius, 4px);
        border-bottom-left-radius: var(--social-button-radius, 4px);
    }

    .button-container.like-visible{
        margin-right: -4px;
        margin-left: 6px;
        overflow: visible;
    }
    .button-container.active-reaction-visible{
        margin-right: -4px;
    }
    .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-right: 14px;
    }
    
    .reactions-count-button {
        margin-left: 4px;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${ce.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${ce.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        margin-right: -10px;
    }

    /* THEME: TOP STORIES */
    .social-bar.${ce.topStories} .reactions-count-button:last-child {
        margin-left: 0;
        padding-left: 4px;
    }
    .social-bar.${ce.topStories} .button-container.active-reaction-visible ~ .reactions-count-button {
        margin-right: 14px;
    }
`,Je=1e3,Qe=Q.a`
    .social-bar {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin: 0;
        font-family: "Segoe UI Bold", "Segoe WP Bold", "Segoe WP", "Segoe UI", Arial, Sans-Serif;
    }
    .social-bar *:focus-visible {
        outline: 2px solid ${we.G.var};
        z-index: 2;
    }
    .button-container {
        display: inline-flex;
        overflow: hidden;
        padding: 4px;
        margin: -4px;
        transition: all .2s;
    }
    .button-bg {
        background: none;
    }
    .button-bg:hover, .button-bg.highlight, .comments-count-button:hover, .comments-count-button.top-comment-visible{
        background-color: ${we.v.var};
        padding: ${"8px 8px 0"};
    }
    .no-mr, .icon-button.no-mr {
        margin: 0;
    }
    .icon-button {
        font-weight: normal;
        cursor: pointer;
        margin: 0;
        border: none;
        outline: none;
        display: flex;
        align-items: flex-start;
        color: ${we.G.var};
        height: ${"32px"};
        font-size: 16px;
        padding: ${"8px 8px 0"};
        box-sizing: border-box;
        text-decoration: none;
        transition: all .2s;
        border-radius: var(--social-button-radius, 4px);
    }
    ${Ye}
    .icon-label {
        white-space: nowrap;
        font-size: 12px;   
        font-family: "Segoe UI Bold", "Segoe WP Bold", "Segoe WP", "Segoe UI", Arial, Sans-Serif;
        line-height: 1.4;
    }
    a.icon-button .icon-label {
        text-decoration: none;
        line-height: 1.4;
    }
    .like-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        opacity: 0;
        transition: all .2s;
    }
    .active-reaction-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        font-weight: 600;
    }
    .cwt-icon-vector {
        font-size: inherit;
        width: 16px;
        color: inherit;
        margin: 0;
    }
    .like-button {
        margin: 0;
        padding-left: 0;
        padding-right: 0;
        opacity: 0;
        transition: all .2s;
    }

    .reactions-count-button {
        padding-right: 0;
        padding-left: 0;
        position: relative;
    }

    .reaction-menu-container {
        position: absolute;
        top: -49px;
        z-index: ${999..toString()};
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 6px 13px 0;
        height: calc(${"28px"} + 14px);
        background: ${we.H.var};
        border-radius: ${"28px"};
        -webkit-box-shadow: ${Ge};
        -moz-box-shadow: ${Ge};
        box-shadow: ${Ge};
        opacity: 0;
    }
    .reaction-menu-emoji-button {
        cursor: pointer;
        background: none;
        border: none;
        outline: none;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: calc(${"28px"} + 8px);
        margin: 0 0;
        padding: 4px 5px;
        font-size: ${"28px"};
        transition: ease .2s; 
    }
    ${Ve}
    .reaction-menu-emoji-button > .emoji-icon{
        transition: ease .2s; 
    }
    .reaction-menu-emoji-button[data-faded] {
        opacity: .4;
    }
    .reaction-menu-emoji-button:hover {
        opacity: 1;
    }
    .reaction-menu-container[data-show] {
        opacity: 1;
        animation: reactionMenuFadeInOpacity .15s ease-out;
    }
    @keyframes reactionMenuFadeInOpacity {
        0% {
            opacity: 0;
            top: -47px;
        }
        100% {
            opacity: 1;
            top: -49px;
        }
    }
    .emoji-label {
        position: absolute;
        z-index: ${Je.toString()};
        top: -28px;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
        height: 18px;
        padding: 0 8px 1px;
        font-size: 12px;
        background: ${we.G.var};
        color: ${we.H.var};
        border-radius: 11px;
        opacity: 0;
    }

    .emoji-label-bottom {
        top: 45px;
        pointer-events: none;
    }

    .reaction-menu-emoji-button:hover .emoji-label,
    .reaction-menu-emoji-button:focus .emoji-label,
    .reaction-menu-emoji-button.touchFocused .emoji-label{
        opacity: 1;
    }
    .reaction-menu-emoji-button:hover .emoji-icon,
    .reaction-menu-emoji-button.touchFocused .emoji-icon{
        transform: scale(1.285) translateY(-4px);
    }
    .width-transition-enter {
        opacity: 1;
    }
    .width-transition-enter > * {
        opacity: 1;
    }
    .no-select {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none
    }
    .social-bar:not(.accessibility-visible) .button-container .button-bg.accessibility-button {
        display: inline-flex;
        margin: 0;
        padding: 0;
        width: 0;
        overflow: hidden;
    }
    .social-bar.accessibility-visible .button-container .button-bg.accessibility-visible {
        height: 32px;
        padding: 2px 5px 0;
        margin: 0 1px;
        color: ${we.G.var};
        fill: ${we.G.var};
        border: none;
        align-items: center;
        width: auto;
    }
    .social-bar.accessibility-visible .button-bg.accessibility-visible {
        margin-top: 2px;
        padding: 4px;
        height: 24px;
    }
    .cwt-hide {
        display: none;
    }

    /* Top-Comment *****/
    .icon-wrapper.has-top-comment-marker { 
        background: no-repeat url(${"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI5IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxjaXJjbGUgY3g9IjQiIGN5PSI0Ljc5IiByPSI0IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyIiB4MT0iMi4yMjIiIHkxPSI0LjEyMiIgeDI9IjYuNjk5IiB5Mj0iMTAuMDk0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0ZBODg2RiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0Y3QjEyQiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=="}) 12px 4px;
        background-size: 9px;
        padding: 6px 3px;
        margin: -5px -3px;
    }
    .has-top-comment-marker .cwt-icon-vector { 
        clip-path: polygon(25% 0%, 100% 60%, 100% 100%, 0 100%, 0 0);
    }

    .reactions-count-tool-tip-container {
        pointer-events: none;
        position: absolute;
        bottom: 30px;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        z-index: ${999..toString()};
        padding: 6px 8px;        
        background: ${we.H.var};
        -webkit-box-shadow: ${Ge};
        -moz-box-shadow: ${Ge};
        box-shadow: ${Ge};
    }
    .reactions-count-tool-tip-emoji-button {
        display: flex;
        align-items: center;
        font-size: 12px;
        color: ${we.G.var};
    }
    ${qe}
    .reactions-count-tool-tip-emoji-button > .emoji-icon: {
        transition: "none";
    }
    .tool-tip-icon-count {
        font-size: 12px;
        margin: 4px 4px;
    }

    /* Top-Stories *****/
    .social-bar.no-select.${ce.topStories} {
        background-color: ${we.v.var};
    }

    /* THEMES *****/
    .social-bar.${ce.default}{}

    /* THEME: REDESIGN */
    .social-bar.${ce.redesign} .button-bg{
        --social-button-radius: 64px;
        color: unset;
        background-color: ${we.v.var};
        padding-right: 16px;
        padding-left: 16px;
    }

    .social-bar.${ce.redesign} .reaction-emoji-button {
        padding: 8px 6px;
        align-items: center;
    }

    .social-bar.${ce.redesign} .comments-count-button {
        --social-button-radius: 64px;
    }
    
    /* THEME: NO BACKPLATE */
    .social-bar.${ce.noBackPlate} {
        --social-button-radius: 64px;
    }
    .social-bar.${ce.noBackPlate} .button-bg {
        --social-button-radius: 64px;
        color: unset;
        padding-right: 16px;
        padding-left: 16px;
    }

    /* THEME: SUPERAPP ARTICLE CARD */
    .social-bar.${ce.superappDefault} .button-bg{
        --social-button-radius: 64px;
        color: unset;
        background-color: ${we.v.var};
        padding-right: 16px;
        padding-left: 16px;
    }

    .social-bar.${ce.superappDefault} .reaction-emoji-button {
        padding: 8px 6px;
        align-items: center;
    }

    /* THEME: SUPERAPP ListCard / CarouselCard */
    .social-bar.${ce.superappCarouselCard} *:focus-visible,
    .social-bar.${ce.superappListCard} *:focus-visible {
        outline: none;
    }
    .social-bar.${ce.superappCarouselCard} .button-bg,
    .social-bar.${ce.superappListCard} .button-bg {
        background: none;
        padding-left: unset;
        padding-right: unset;
    }
    .social-bar.${ce.superappCarouselCard} .button-container.like-visible ~ .reactions-count-button:before,
    .social-bar.${ce.superappListCard} .button-container.like-visible ~ .reactions-count-button:before {
        content: "|";
        display: inline-block;
        margin-top: -1px;
        padding: 0 10px;
        font-size: 12px;
        color: ${we.G.var};
        opacity: .8;
    }
    .social-bar.${ce.superappCarouselCard} .button-container .button-bg:not,
    .social-bar.${ce.superappListCard} .button-container .button-bg:not {
        background: none;
        padding-left: 0;
        padding-right: 0;
    }
`.withBehaviors(we.v,we.H,we.G,new J.a(Ze,Xe));let Ke=class extends We{};Ke=Object(l.e)([Object(Z.b)({name:"msn-social-bar",template:ve,styles:Qe})],Ke);const _e=v.b`
${Object(N.a)(e=>!e.reactionsDisabled,v.b`
<msn-social-bar
    part="msn-social-bar"
    exportparts="social-bar, like-button-container, active-button-container, button-bg, reaction-menu-container"
    :socialBarData=${e=>e.selfFetchedSocialBarData||e.socialBarData}
    :market=${e=>e.locale}
    :destinationUrl=${e=>e.destinationUrl}
    :localizedStrings=${e=>e.config}
    :overwriteShowLikeButton=${e=>e.config.likeButtonAlwaysVisible||e.likeButtonAlwaysVisible}
    :disableReactionsTooltip= ${e=>e.disableReactionsTooltip}
    @on-reaction=${(e,t)=>e.onReaction&&e.onReaction(t.event.detail.id,t.event.detail.reactionType,t.event.detail.reset)}
    :socialBarTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.socialBar&&e.telemetryContext.socialBar.getMetadataTag()}
    :commentsButtonTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.commentsButton&&e.telemetryContext.commentsButton.getMetadataTag()}
    :reactionsCountButtonTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionsCountButton&&e.telemetryContext.reactionsCountButton.getMetadataTag()}
    :reactionMenuTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionMenu&&e.telemetryContext.reactionMenu.getMetadataTag()}
    :reactionsParentTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.reactionsParent&&e.telemetryContext.reactionsParent.getMetadataTag()}
    :reactionTelemetryTags=${e=>e.telemetryContext&&e.telemetryContext.reactionTelemetryObjects&&Object.keys(e.telemetryContext.reactionTelemetryObjects).reduce((t,o)=>(t[o]=e.telemetryContext.reactionTelemetryObjects[o].getMetadataTag(),t),{})}
    :undoReactionTelemetryTags=${e=>e.telemetryContext&&e.telemetryContext.undoReactionTelemetryObjects&&Object.keys(e.telemetryContext.undoReactionTelemetryObjects).reduce((t,o)=>(t[o]=e.telemetryContext.undoReactionTelemetryObjects[o].getMetadataTag(),t),{})}
    :topCommentIconTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.topCommentIcon&&e.telemetryContext.topCommentIcon.getMetadataTag()}
    :topCommentTelemetryTag=${e=>e.telemetryContext&&e.telemetryContext.topCommentTelemetryContext&&e.telemetryContext.topCommentTelemetryContext.getMetadataTag()}
    :hideReactions=${e=>e.config.socialbarCommentsOnly}
    :theme=${e=>e.theme}
    :likeButtonShowWhenHoverReaction=${e=>e.config.likeButtonShowWhenHoverReaction}
    :enableReactionEmojiButton=${e=>e.config.enableReactionEmojiButton}
    :visibleOnlyReactions=${e=>e.config.visibleOnlyReactions}
    :hideComments=${e=>e.hideComments}
/>

<style>
    @media (-ms-high-contrast:active) {

        msn-social-bar::part(button-bg),
        msn-social-bar::part(reactions-count-button),
        msn-social-bar::part(comments-count-button) {
            color: buttontext;
            background-color: buttonface;
        }

        msn-social-bar::part(button-bg):hover,
        msn-social-bar::part(button-bg):focus-visible,
        msn-social-bar::part(reactions-count-button):hover,
        msn-social-bar::part(reactions-count-button):focus-visible,
        msn-social-bar::part(comments-count-button):hover,
        msn-social-bar::part(comments-count-button):focus-visible {
            color: buttonface;
            background-color: highlight;
        }
    }
</style>`)}
`,et=Q.a``,tt={experienceConfigSchema:c}},HAaN:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return C}));var n=o("D57K"),i=o("Kpu7");function a(){return Object(n.b)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{if(window.AzureStorage)return e(window.AzureStorage);!function(e,t,o){const n=document,i="script";if(!n.getElementById(t)){const a=n.getElementsByTagName(i)[0],r=n.createElement(i);r.id=t,r.src=e,r.onload=o,a.parentNode.insertBefore(r,a)}}("https://assets.msn.com/labs/views/CommentWidget/js/azure-storage.blob.min.js","azure-storage-blob-jssdk",()=>window.AzureStorage?e(window.AzureStorage):t())})}))}var r=o("HxRh");const s={unknown:r.Uh,contents:r.Th,users:r.Vh,comments:r.Sh};var c=o("tMmC");const l=new class{constructor(){this.onAppError=void 0}log(e){if(this.onAppError)try{this.onAppError(e)}catch(e){c.a.logError(e)}}setOnAppError(e){this.onAppError=e}};var u,d,p=o("dTwT"),m=o("rvYQ"),h=(o("gvPr"),o("RIQ7")),b=o("q77S"),g=o("TRvk"),y=o("9y7U"),v=(o("XgsJ"),o("hSGL"));!function(e){e.contents="contents",e.comments="comments",e.users="users"}(u||(u={})),function(e){e.article="article",e.slideshow="slideshow",e.video="video"}(d||(d={}));const f=(e,t,o,n)=>{if(n)n(e,o?null:t);else if(Object(p.a)().supported)if(o){Object(p.a)().setItem(`${b.b}${e}`,""),Object(p.a)().removeItem(`${b.b}${e}`);const t=Object(p.a)().getItem(b.a);let o=t?t.split(","):[];o=o.filter(t=>t!=e),Object(p.a)().setItem(b.a,o.join(","))}else if(t){const o=Object(p.a)().getItem(b.a);let n=o?o.split(","):[];n.length>200&&(n=n.filter((e,t)=>!(t<100)||(Object(p.a)().removeItem(`${b.b}${e}`),!1))),n.push(e),Object(p.a)().setItem(`${b.b}${e}`,t),Object(p.a)().setItem(b.a,n.join(","))}};class C{constructor(e){C.sendAuthHeader=e}static get msaAccessToken(){return Object(i.c)("msaAccessToken")}static get muid(){return Object(i.c)("muid")}static get fdhead(){return Object(i.c)("fdhead")||m.b.CurrentRequestTargetScope&&m.b.CurrentRequestTargetScope.pageExperiments&&m.b.CurrentRequestTargetScope.pageExperiments.join()}static get ocid(){return Object(i.c)("ocid")||Object(h.b)()}static setDomain(e){this.domain=e,this.endpoints=Object.assign(Object.assign({},this.endpoints),{contents:C.domain.concat("urls/"),providerContents:C.domain.concat("contents"),comments:C.domain.concat("comments/"),users:C.domain.concat("users/")})}static fetchMe(e){return Object(n.b)(this,void 0,void 0,(function*(){return C.getUserById("me",e)}))}static fetchUserCommunitySettings(){var e;return Object(n.b)(this,void 0,void 0,(function*(){const t=yield v.a.getPdpUserPreference();return(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.length)>0&&t.value[0].communitySettings||null}))}static deleteMyData(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},e),{profile:"social"});return C.DELETE(C.endpoints.users+"me/",t)}))}static getUserById(e,t=!1){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints.users+e,{version:"1.1",profile:"social",verify:t}).then(e=>g.a.convertUser(e||null))}))}static getXPayTokenInfo(){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.domain+"xpaytoken")}))}static getUserProfile(e){return Object(n.b)(this,void 0,void 0,(function*(){let t={followers:void 0,following:void 0,comments:void 0};return Promise.all([C.GET(C.endpoints.users+e,{version:"1.1",profile:"social"}).then(e=>{t=Object.assign(Object.assign({},t),g.a.convertUser(e||null))}),C.getFollowersByUserId(e).then(e=>{t.followers=e}),C.getFollowingsByUserId(e).then(e=>{t.following=e}),C.getCommentsByUserId(e).then(e=>{t.comments=e})]).then(e=>t).catch(e=>{c.a.logError("Error getting user profile: "+e.statusText)})}))}static getUserContents(e,t,o,i={}){return Object(n.b)(this,void 0,void 0,(function*(){const n={market:t,$top:i.top||20,$skip:i.skip||0,$orderby:i.orderBy||"Time"};return o&&(n.productType="premium"),C.GET(C.endpoints.users+e+"/contents",n)}))}static appealMe(){return Object(n.b)(this,void 0,void 0,(function*(){return C.POST(C.endpoints.users+"me/appeals",{})}))}static appealMyPicture(){return Object(n.b)(this,void 0,void 0,(function*(){return C.POST(C.endpoints.users+"me/pictureAppeals",{})}))}static getFollowersByUserId(e,t=10,o=0){return Object(n.b)(this,void 0,void 0,(function*(){const n={$top:t,$skip:o};return C.GET(C.endpoints.users+e+"/followers",n).then(e=>g.a.convertUserList(e))}))}static getFollowingsByUserId(e,t=10,o=0){return Object(n.b)(this,void 0,void 0,(function*(){const n={$top:t,$skip:o};return C.GET(C.endpoints.users+e+"/followings",n).then(e=>g.a.convertUserList(e))}))}static createUser(e){return Object(n.b)(this,void 0,void 0,(function*(){const t={notUseAvatar:e||!1};return C.POST(C.endpoints.users+"me",t,{profile:"social"},void 0).then(e=>g.a.convertUser(e||null)).catch(e=>e.json().then(e=>{throw e}))}))}static updateUserSettings(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o={};return o[e]={isPrivateProfile:t},C.PUT(C.endpoints.users+e+"/settings",o,{},e)}))}static followUser(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return C.POST(C.endpoints.users+t+"/followers/"+e,{},{},e)}))}static unfollowUser(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return C.DELETE(C.endpoints.users+t+"/followers/"+e,{},e)}))}static getUserIsFollowed(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return new Promise((o,n)=>{e?C.GET(C.endpoints.users+t+"/followers/"+e,{}).then(e=>o(!0)).catch(e=>o(!1)):o(null)})}))}static reportUser(e,t,o,i){return Object(n.b)(this,void 0,void 0,(function*(){const n="ProfilePicture"==t?"PictureAbusereports":"NameAbusereports",{reportMessage:a,intellectualPropertyDetails:r}=i||{},s={ReportType:o,ReportMessage:a||"",IntellectualPropertyDetails:r};try{return C.POST(C.endpoints.users+e+"/"+n,s,{})}catch(e){c.a.logError(e)}}))}static getUserNotifications(){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints.users+"me/activities",{onlynotification:!0,read:!1,$top:5,$skip:0}).then(e=>g.a.convertUserActivities(e||null))}))}static getUserActivities(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o={$top:e||50,$skip:t||0};return C.GET(C.endpoints.users+"me/activities",o).then(e=>g.a.convertUserActivities(e||null))}))}static updateUserActivityStatus(e,t=!0){return Object(n.b)(this,void 0,void 0,(function*(){const o={id:e,read:t};return C.POST(C.endpoints.users+"me/activities",o)}))}static getContentById(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o=this.isURL(e)?{url:e,market:t,version:"1.1"}:{cmsid:e,market:t,version:"1.1"};return t||delete o.market,C.GET(C.endpoints.contents,o).then(e=>g.a.convertContent(e||null))}))}static getProviderContents(e,t,o,n,i={}){const a={providerId:e,market:t,apiKey:m.b.OneServiceApiKey,$top:i.top||20,$skip:i.skip||0,$orderby:i.orderBy||"Time desc"};return o&&(a.contentType=o),n&&(a.partnerTag=n),C.GET(C.endpoints.providerContents,a)}static isURL(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)}static getCommentById(e){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints.comments+e).then(e=>g.a.convertComment(e||null))}))}static getCommentsByContentId(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o={contentId:e,$top:t.top||50,$skip:t.skip||0,$orderby:t.orderBy||t.sortType||"Rating"};return C.GET(C.endpoints.comments,o).then(e=>{let t="On";try{t=e.links.find(e=>"Content"==e.type).item.commentStatus||t}catch(e){c.a.logError("Invalid content data in comments response.")}try{const o=g.a.convertCommentList(e||null);return o.commentStatus=t,o}catch(e){return c.a.logError("Invalid comment list data in comments response."),{commentStatus:"Off",list:[]}}})}))}static getCommentsByParentId(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o={parentId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return C.GET(C.endpoints.comments,o).then(e=>g.a.convertCommentList(e||null))}))}static getCommentsByAnchorCommentId(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const o={anchorId:e,$top:t.top||10,$skip:t.skip||0,$orderby:t.orderBy||"Time"};return C.GET(C.endpoints.comments,o).then(e=>g.a.convertCommentList(e||null))}))}static getCommentsByUserId(e,t=10,o=0,i="Time"){return Object(n.b)(this,void 0,void 0,(function*(){const n={userId:e,$top:t,$skip:o,$orderby:i};return C.GET(C.endpoints.comments,n).then(e=>g.a.convertCommentList(e||null))}))}static postComment(e,t,o,i,a){return Object(n.b)(this,void 0,void 0,(function*(){const n={ContentId:e,Body:o,parentId:i&&i!=e?i:void 0,mentionReply:a};return new Promise((e,o)=>{C.POST(C.endpoints.comments,n,{},t).then(t=>{e(g.a.convertComment(t||null))},e=>{e.json().then(e=>{o(e)}).catch(t=>{c.a.logError("Error getting comment info: "+e.statusText),o()})})})}))}static deleteComment(e){return Object(n.b)(this,void 0,void 0,(function*(){return C.DELETE(C.endpoints.comments+e,{})}))}static appealComment(e){return Object(n.b)(this,void 0,void 0,(function*(){return C.POST(C.endpoints.comments+e+"/appeals",{})}))}static reportComment(e,t,o){return Object(n.b)(this,void 0,void 0,(function*(){const{reportMessage:n,intellectualPropertyDetails:i}=o||{},a={ReportType:t,ReportMessage:n||"",IntellectualPropertyDetails:i};try{return C.POST(C.endpoints.comments+e+"/abusereports",a,{})}catch(e){c.a.logError(e)}}))}static uploadCopyrightFile(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield C.GET(C.endpoints.users+"me/UploadSasToken",{type:"ContentReport"}),o=yield a(),i="https://"+t.accountUrl.split("?")[0],r=o.Blob.createBlobServiceWithSas(i,t.sasString);return new Promise((o,i)=>{r.createBlockBlobFromBrowserFile(t.container,t.blobName,e,(e,a,r)=>Object(n.b)(this,void 0,void 0,(function*(){return e?i(e):o(t.id)})))})}))}static rate(e,t,o,i=!1,a){return Object(n.b)(this,void 0,void 0,(function*(){const n={},i={subType:o};try{const r=yield C.POST(C.endpoints[e]+t+"/reactions",i,n);return f(t,o,!1,a),g.a.convertRatingToRateValue(r||null)}catch(e){return c.a.logError(e),o}}))}static resetRating(e,t,o){return Object(n.b)(this,void 0,void 0,(function*(){try{return f(t,null,!0,o),C.DELETE(C.endpoints[e]+t+"/reactions",{})}catch(e){c.a.logError(e)}}))}static getFriendRatings(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints[e]+t+"/reactions",{friends:!0,$top:2})}))}static getRating(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints[e]+t+"/reactions",{}).then(e=>g.a.convertRatingToRateValue(e||null))}))}static getRatingBreakdown(e,t){return Object(n.b)(this,void 0,void 0,(function*(){return C.GET(C.endpoints[e]+t+"/reactions",{others:!0}).then(e=>g.a.convertReactionsResponseToReactionBreakdownData(e||null))}))}static prepareHubString(e){return e.replace(/-/g,"_")}static getSignalRConnectionInfo(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=this.prepareHubString(e);return C.POST(C.endpoints.typingUpdates+"RealtimeTypingNegotiate",{},{hub:t})}))}static broadcastCommentNotification(e,t,o){return Object(n.b)(this,void 0,void 0,(function*(){const n=this.prepareHubString(e),i={type:"comment-notification",data:{commentId:t,commentParentId:o}};return C.POST(C.endpoints.typingUpdates+"RealtimeTypingBroadcast",i,{hub:n}).then(e=>{},e=>{})}))}static broadcastTypingNotification(e,t,o,i){return Object(n.b)(this,void 0,void 0,(function*(){const n=this.prepareHubString(e),a={type:"typing-notification",data:{id:t,name:o,profileImageUrl:i}};return C.POST(C.endpoints.typingUpdates+"RealtimeTypingBroadcast",a,{hub:n},t).then(e=>{},e=>{})}))}static GET(e,t,o){return Object(n.b)(this,void 0,void 0,(function*(){const n={queryParams:t=t||{},authHeader:void 0,body:void 0,method:"GET"};return o&&C.sendAuthHeader&&(n.authHeader=o),this.xhr(e,n)}))}static POST(e,t,o,i,a="POST"){return Object(n.b)(this,void 0,void 0,(function*(){const n={method:a,queryParams:o=o||{},body:t,authHeader:void 0};return i&&C.sendAuthHeader&&(n.authHeader=i),this.xhr(e,n)}))}static PUT(e,t,o,i){return Object(n.b)(this,void 0,void 0,(function*(){return C.POST(e,t,o,i,"PUT")}))}static DELETE(e,t,o){return Object(n.b)(this,void 0,void 0,(function*(){const n={method:"DELETE",queryParams:t=t||{},authHeader:void 0,body:void 0};return o&&C.sendAuthHeader&&(n.authHeader=o),this.xhr(e,n)}))}static clearCache(){C.cachedResponses={}}static fetchRetry(e,t,o=2){return Object(n.b)(this,void 0,void 0,(function*(){try{const o=yield fetch(e,t);if(o.status>=500)throw new Error("Retry API error");return o}catch(n){if(o<=1)throw n;return yield C.fetchRetry(e,t,o-1)}}))}static fetchCachedResponse(e,t){if(t&&"GET"==t.method&&e in C.cachedResponses)return C.cachedResponses[e];t&&"GET"!=t.method&&C.clearCache();const o=C.fetchRetry(e,t);return t&&"GET"==t.method&&(C.cachedResponses[e]=o,setTimeout(()=>{e in C.cachedResponses&&delete C.cachedResponses[e]},500)),o}static xhr(e,t={queryParams:void 0,method:void 0,authHeader:void 0,body:void 0}){return Object(n.b)(this,void 0,void 0,(function*(){t.queryParams.scn="windowsShell"===m.b.AppType?"APP_ANON":"MSNRPSAuth",t.queryParams.wrapodata="false";const o="GET"!==t.method?{"Content-Type":"application/json"}:{};t.authHeader&&(o["X-MSN-SCP-Auth"]=t.authHeader),C.msaAccessToken&&(o.UserTicketType="2",o.UserAuthToken=C.msaAccessToken,o.SiteName="api.msn.com"),C.muid&&(o.muid="m-"+C.muid),C.fdhead&&(t.queryParams.fdhead=C.fdhead),!t.queryParams.ocid&&C.ocid&&(t.queryParams.ocid=C.ocid);const n=Object(i.a)(t.queryParams),a={method:t.method||"GET",headers:o,credentials:"include"};return t.body&&(a.body=JSON.stringify(t.body)),C.fetchCachedResponse(e+n,a).then(o=>{if(!(o.status>=200&&o.status<300||401==o.status))throw(o.status>499||400==o.status)&&this.onRequestError(e,t),o;if(204==o.status)return{};try{return o.clone().json().then(e=>(e.value&&(e=e.value[0]),e))}catch(n){throw this.onRequestError(e,t),{status:o.status,statusText:"INVALID_RESPONSE"}}})}))}static onRequestError(e,t){const o=this.resourceForUrl(e),n=s[o]||s.unknown;l.log(Object.assign(Object.assign({},n),{message:"Request failed",pb:Object.assign(Object.assign({},n.pb),{customMessage:o,url:e,method:t.method})}))}static resourceForUrl(e){for(const[t,o]of Object.entries(u))if(e.indexOf("/"+o)>0)return o;return"unknown"}static getPublisherFeed(e,t){return Object(n.b)(this,void 0,void 0,(function*(){const e={contentType:"article,video,slideshow,webcontent",market:t,apikey:m.b.OneServiceApiKey,ocid:"Peregrine"};return C.GET(C.endpoints.publisherFeed,e).then(e=>g.a.convertPublisherFeed(e||null))}))}}C.domain=y.a.externalUrls.api,C.endpoints={contents:C.domain.concat("urls/"),providerContents:C.domain.concat("contents"),comments:C.domain.concat("comments/"),users:C.domain.concat("users/"),systags:"https://api.msn.com/graph/systags",typingUpdates:"https://assets.msn.com/labs/api/",publisherFeed:"https://api.msn.com/news/feed/pages/publisherfeed"},C.cachedResponses={}},Kpu7:function(e,t,o){"use strict";function n(e,t=null){return function(e){const t=window.location.hash.substring(1).split("&");for(let o=0;o<t.length;o++){const n=t[o].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}(e)||i(e)||t}function i(e){const t=window.location.search.substring(1).split("&");for(let o=0;o<t.length;o++){const n=t[o].split("=");if(n[0].toLowerCase()==e.toLowerCase())return decodeURIComponent(n[1])}return null}function a(e){return e&&Object.keys(e).length>0?"?"+Object.keys(e).map((function(t){return`${t}=${encodeURIComponent(e[t])}`})).join("&"):""}function r(e,t,o){const n={};["fdhead","item","rt","theme","ocid"].map(e=>{const t=i(e);t&&(n[e]=t)});const r=a(n);t&&e.indexOf("/en-us/")>0&&(e=e.replace("/en-us/",`/${t}/`));const s=[e];return r&&-1!=e.indexOf("?")?s.push("&"+r.substring(1)):r&&s.push(r),s.push(o?"#comments&commentId="+o:""),s.join("")}o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return r}))},Oa3u:function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return c})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return u}));var n=o("m2Vd");const i=new RegExp("\\:([\\d]{2})");function a(){return new Date}function r(e){return(a().getTime()-e.getTime())/1e3}function s(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function c(e,t){return new Date(e.valueOf()+60*t*60*1e3)}function l(e,t){const o=parseInt(t),n=parseInt(i.exec(t)[1]),a=o<0?-1:1,r=new Date(e.getTime()+60*(60*o+a*n)*1e3),s=("0"+Math.abs(o)).substr(-2)+":"+("0"+Math.abs(n)).substr(-2);return r.toISOString().replace("Z",(a<0?"-":"+")+s)}function u(e){const t=r(e),o=function(){const e=a();return e.setHours(0,0,0,0),e}(),i=s(o,-1),c=s(o,-6),l=function(){const e=a();return new Date(e.getFullYear(),0,0,0,0,0,0)}();return t>=-3300&&t<-60?n.a.InMinutes:t<0?n.a.None:t<120?n.a.JustNow:t<3600?n.a.LessThanOneHour:e>=o?n.a.Today:e>=i?n.a.Yesterday:e>=c?n.a.ThisWeek:e>=l?n.a.ThisYear:n.a.FullDate}},S7gc:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var n,i=o("dMmp");!function(e){e[e.Default=0]="Default",e[e.Medium=1]="Medium",e[e.MonthDate=2]="MonthDate",e[e.Weekday=3]="Weekday",e[e.Time=4]="Time"}(n||(n={}));class a{constructor(){this.dateFormatOptionsMap=new Map,this.setSupportsLocaleSpecifiers(),this.dateFormatOptionsMap.set(n.Medium,{year:"numeric",month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.MonthDate,{month:"short",day:"numeric"}),this.dateFormatOptionsMap.set(n.Weekday,{weekday:"short"}),this.dateFormatOptionsMap.set(n.Time,{hour:"numeric",minute:"numeric"})}overrideDateFormat(e,t){e&&t&&this.dateFormatOptionsMap.set(e,t)}localizedDateString(e,t){return this.formatDate(e,n.Default,t)}localizedDateStringMedium(e,t){return this.formatDate(e,n.Medium,t)}localizedMonthDate(e,t){return this.formatDate(e,n.MonthDate,t)}localizedWeekday(e,t){return this.formatDate(e,n.Weekday,t)}formatTimeFromDate(e,t){return this.supportsLocaleSpecifiers&&this.dateFormatOptionsMap?e.toLocaleTimeString(t,this.dateFormatOptionsMap.get(n.Time)):e.toTimeString()}format(e,...t){return e?i.String.Format(e,...t):""}localizedNumberString(e,t){return this.supportsLocaleSpecifiers?e.toLocaleString(t):e.toString()}formatDate(e,t,o){let i=null;if(this.supportsLocaleSpecifiers)if(t===n.Default)i=e.toLocaleDateString(o);else if(this.dateFormatOptionsMap){const n=this.dateFormatOptionsMap.get(t);i=e.toLocaleDateString(o,n)}return null===i&&(i=e.toDateString()),null!==i?i.replace(/\u200E/g,"").replace(/\u200F/g,""):i}setSupportsLocaleSpecifiers(){this.supportsLocaleSpecifiers=(()=>{try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1})()}}},TRvk:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var n=o("dTwT"),i=o("XgsJ"),a=o("q77S"),r=o("9y7U"),s=o("WO7E"),c=o("Kpu7");class l{static convertContent(e){const t={};return r.a.reactionOrder.map(o=>{e&&(e.reactionSummary?t[o]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==o)||{totalCount:0}).totalCount:t[o]=0)}),e?Object.assign(Object.assign({comments:{skip:0,top:0,moreCount:0,list:[]}},e),{totalCommentCount:e.commentSummary?e.commentSummary.totalCount:0,reactionCounts:t}):null}static convertUser(e){if(e){let t;t=e.isSocialUser?r.a.userStateType.existingUser:e.id&&!e.id.startsWith("m-")?r.a.userStateType.newUser:r.a.userStateType.anonymous;let o=e.nameStatus||r.a.userNameStatusType.normal;return t!=r.a.userStateType.newUser||null!=e.primaryName&&""!==e.primaryName.trim()||(o=r.a.userNameStatusType.notAllow),Object.assign(Object.assign({},e),{name:e.primaryName,avatarUrl:e.notUseAvatar||!e.primaryAvatar?void 0:e.primaryAvatar,likesCount:e.reactionSummary?e.reactionSummary.totalCount:0,postsCount:e.commentSummary?e.commentSummary.totalCount:0,followersCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"FollowBy"==e.type)||{totalCount:0}).totalCount,followingCount:(e.followSummary&&e.followSummary.subFollowSummaries.find(e=>"Follow"==e.type)||{totalCount:0}).totalCount,reactionsCount:e.reactionSummary&&e.reactionSummary.totalCount||0,badge:"Commenter",state:t,avatarStatus:e.avatarStatus||r.a.userAvatarStatusType.normal,nameStatus:o,ageGroup:e.ageGroup||r.a.userAgeGroup.above18})}return{state:r.a.userStateType.anonymous}}static convertUserList(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top+e.skip),totalCount:e.totalCount,list:e.items.map(e=>this.convertUser(e.links.find(e=>"User"==e.type).item||null))}:null}static convertComment(e){if(!e)return null;let t=null,o=null;if(e.links){const n=e.links.find(t=>"User"==t.type&&t.item.id==e.createdBy);t=n?l.convertUser(n.item):null;const i=e.links.find(e=>"Content"==e.type);o=i?l.convertContent(i.item):null}const n=e.visibleStatus!=r.a.visibleStatusType.Normal,i=e.visibleStatus==r.a.visibleStatusType.InReview,a=[r.a.visibleStatusType.DeletedByAI,r.a.visibleStatusType.DeletedByHI,r.a.visibleStatusType.DeletedByUser].includes(e.visibleStatus),s=i,c={};return r.a.reactionOrder.map(t=>{e.reactionSummary?c[t]=(e.reactionSummary.subReactionSummaries.find(e=>e.type.toLowerCase()==t)||{totalCount:0}).totalCount:c[t]=0}),Object.assign(Object.assign({},e),{ownerId:e.createdBy,text:e.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),createDatetime:e.createdTime,reactionCounts:c,user:t,content:o,isHidden:n,isInReview:i,isDeleted:a,skipRender:s,replies:[],replyCount:e.commentSummary?e.commentSummary.totalCount:0})}static convertCommentList(e){return e?{commentStatus:"On",skip:e.skip,top:e.top,hasMore:e.hasMore,hasPrevious:e.hasPrevious,asc:e.asc,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>l.convertComment(e))}:null}static convertReactionsResponseToReactionBreakdownData(e){if(!e)return null;const t=e.items;let o;try{o=e.links.find(e=>"Content"==e.type||"Comment"==e.type).item.reactionSummary.subReactionSummaries}catch(e){o=null}const n={reactionCounts:{all:0},items:{all:[]}};return r.a.reactionOrder.map(e=>{n.reactionCounts[e]=0,n.items[e]=[]}),o&&o.map(e=>{n.reactionCounts[e.type.toLowerCase()]=e.totalCount,n.reactionCounts.all+=e.totalCount}),t&&t.map(e=>{const t=e.subType.toLowerCase(),o=e.links.find(e=>"User"==e.type)?e.links.find(e=>"User"==e.type).item:{state:r.a.userStateType.anonymous,primaryName:"You"};o.isFollowingFetched=!0,o.isFollowing=!!e.links.find(e=>"Follow"==e.type),n.items[e.subType.toLowerCase()].push({user:o,rateValue:t}),n.items.all.push({user:o,rateValue:t})}),n}static convertRatingToRateValue(e){e&&e.items&&(e=e.items[0]);return e&&e.subType?e.subType.toLowerCase():null}static convertUserActivities(e){return e?{skip:e.skip,top:e.top,hasMore:e.hasMore,moreCount:e.totalCount-(e.top-1+e.skip-1+2),totalCount:e.totalCount,list:e.items.map(e=>this.convertUserActivity(e))}:null}static convertUserActivity(e){if(!e)return null;const t={id:e.id,type:e.type,datetime:e.createdDateTime,isSeen:e.read,notification:e.notification};switch(e.type){case r.a.activityType.follow:{const o=e.links.find(e=>"User"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item)})}case r.a.activityType.badge:{const o=e.links.find(e=>"Achievement"==e.type);return Object.assign(Object.assign({},t),{badgeType:o&&o.item.subType})}case r.a.activityType.reply:{const o=e.links.find(e=>"User"==e.type),n=e.links.find(e=>"Content"==e.type),i=e.links.find(e=>"Comment"==e.type);return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item),target:{url:n&&n.item.url,body:i&&i.item.body.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:i&&this.convertComment(i.item)}})}case r.a.activityType.reaction:{const o=e.links.find(e=>"User"==e.type),n=e.links.find(e=>"Content"==e.type),i=e.links.find(e=>"Comment"==e.type),a=e.links.find(e=>"Reaction"==e.type),r=a&&"Comment"==a.item.targetType?this.convertSubReactionSummariesToReactionCounts(i&&i.item.reactionSummary&&i.item.reactionSummary.subReactionSummaries):this.convertSubReactionSummariesToReactionCounts(n&&n.item.reactionSummary&&n.item.reactionSummary.subReactionSummaries),s=a&&"Comment"==a.item.targetType?i&&i.item.body:n&&n.item.title;return Object.assign(Object.assign({},t),{user:this.convertUser(o&&o.item),target:{url:n&&n.item.url,reactionCounts:r,body:s.replace(/(?:\r\n|\r|\n)/g,"<br>"),comment:i&&this.convertComment(i.item)}})}case r.a.activityType.moderation:{const o=e.links.find(e=>"Comment"==e.type),n=e.links.find(e=>"ModerationRecord"==e.type),i=n&&n.item.subType;let a;switch(i){case r.a.moderationErrorType.takedown:a="This comment was removed because it didn't meet our guidelines.";break;case r.a.moderationErrorType.ban:a="You've been banned due to violations of our guidelines.";break;case r.a.moderationErrorType.notAllowName:a="Your profile name didn't meet our guidelines.";break;case r.a.moderationErrorType.notAllowPicture:a="Your profile picture didn't meet our guidelines.";break;case r.a.moderationErrorType.approveUserAppeal:a="At your request, we've reviewed your case and reversed the prior decision. You should be able to post again soon. Thank you.";break;case r.a.moderationErrorType.approveCommentAppeal:a="At your request, we've reviewed your post and reversed the decision to remove it. This post will be restored shortly. Thank you.";break;case r.a.moderationErrorType.approveProfilePicAppeal:a="At your request, we've reviewed your profile picture and reversed the decision to remove it. Your profile picture will be restored shortly. Thank you.";break;case r.a.moderationErrorType.rejectUserAppeal:a="At your request, we've reviewed your case and found that your posts violated our community guidelines.";break;case r.a.moderationErrorType.rejectCommentAppeal:a="At your request, we've reviewed your post that was removed and found it violated our community guidelines.";break;case r.a.moderationErrorType.rejectProfilePicAppeal:a="At your request, we've reviewed your case and found that your profile picture violated our community guidelines.";break;default:a=""}return Object.assign(Object.assign({},t),{moderationErrorType:i,message:a,target:o&&{id:o.item.id,body:o.item.body}})}}return t}static convertSubReactionSummariesToReactionCounts(e){if(!e)return null;const t={all:0};return r.a.reactionOrder.map(e=>{t[e]=0}),e.map(e=>{t[e.type.toLowerCase()]=e.totalCount}),t}static mapFeedResponseToSocialBarData(e,t,o,n,a,r){const c=Object(i.j)();if(c&&c.indexOf("reactionstest")>-1){try{n={totalCount:0,subCommentSummaries:[]},(o={totalCount:0,subReactionSummaries:[]}).totalCount=Math.floor(1e4*Math.random()),n.totalCount=Math.floor(1e4*Math.random());["angry","like","love","sad","surprised","thinking"].sort(()=>.5-Math.random()).slice(0,Math.floor(3*Math.random())).forEach(e=>o.subReactionSummaries.push({totalCount:Math.floor(10*Math.random()),type:e}))}catch(e){}if(n.totalCount>0)try{const e=[{id:"82ccfa9b-56ac-41ca-9546-9f3910ec3cec"},{id:"f21a5f91-a6a9-4e80-bb59-3839e296773f"},{id:"c400d1c0-2f0d-469f-986c-8bebe2de1060"},{id:"1be1cb2b-6210-43b4-b962-ce1df9b524d0"},{id:"4e19e02f-f6fc-405d-8f99-1f007ce7f5df"}],t=Math.floor(5*Math.random());a=e.slice(t,t+1)}catch(e){}}const u=o&&o.subReactionSummaries?o.subReactionSummaries:[],d=e=>{if(Array.isArray(u)){const t=u.filter(t=>{var o,n;return(null===(o=t.type)||void 0===o?void 0:o.toLowerCase())===(null===(n=e)||void 0===n?void 0:n.toLowerCase())});return t&&t.length>0?t[0].totalCount:0}},p={angry:d(s.a.angry),like:d(s.a.like),love:d(s.a.love),sad:d(s.a.sad),surprised:d(s.a.surprised),thinking:d(s.a.thinking)},m=!t&&l.getLocalContentReaction(e,r);m&&p[t=m]++;const h=!o,b=!n;return{myReaction:t,id:e,totalCommentsCount:n&&n.totalCount,reactionCounts:p,topComments:a,reactionsOptedOut:h,commentsOptedOut:b}}static getLocalContentReaction(e,t){return t?t(e):Object(n.a)().supported&&Object(n.a)().getItem(`${a.b}${e}`)?Object(n.a)().getItem(`${a.b}${e}`):null}static convertCommentToTopCommentData(e,t,o){return e&&e.user?{market:o,username:e.user.primaryName,avatarUrl:e.user.notUseAvatar||!e.user.primaryAvatar?void 0:e.user.primaryAvatar,profileUrl:Object(c.b)(`${r.a.externalUrls.profilePage}${e.user.id}`,o),commentUrl:Object(c.b)(t,o,e.id),commentBody:e.text,replyCount:e.replyCount,reactionCounts:e.reactionCounts,createDatetime:e.createDatetime}:null}static convertPublisherFeed(e){var t,o,n;if(!(null==e?void 0:e.sections))return;const i=null===(t=null==e?void 0:e.sections[0])||void 0===t?void 0:t.cards;if(!i&&i.length<1)return;const a=null===(o=i[0])||void 0===o?void 0:o.provider;return{items:null===(n=i[0])||void 0===n?void 0:n.subCards.map(e=>Object.assign(Object.assign({},e),{provider:a}))}}}},WO7E:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e.like="like",e.love="love",e.surprised="surprised",e.thinking="thinking",e.sad="sad",e.angry="angry"}(n||(n={}))},dMmp:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.IsNullOrWhiteSpace=function(e){try{return null==e||"undefined"==e||e.toString().replace(/\s/g,"").length<1}catch(e){return console.log(e),!1}},e.Join=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];try{var i=o[0];if(Array.isArray(i)||i instanceof Array){for(var a=e.Empty,r=0;r<i.length;r++){var s=i[r];r<i.length-1?a+=s+t:a+=s}return a}if("object"==typeof i){var c=e.Empty,l=i;return Object.keys(i).forEach((function(e){c+=l[e]+t})),c=c.slice(0,c.length-t.length)}var u=o;return e.join.apply(e,[t].concat(u))}catch(t){return console.log(t),e.Empty}},e.Format=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];try{return t.match(e.regexNumber)?e.format(e.regexNumber,t,o):t.match(e.regexObject)?e.format(e.regexObject,t,o,!0):e.Empty}catch(t){return console.log(t),e.Empty}},e.format=function(t,o,n,i){return void 0===i&&(i=!1),o.replace(t,(function(t,o){var a,r=t.split(":");return r.length>1&&(o=r[0].replace("{",""),t=r[1].replace("}","")),null==(a=i?n[0][o]:n[o])||null==a||t.match(/{\d+}/)||void 0!==(a=e.parsePattern(t,a))&&null!=a?a:e.Empty}))},e.parsePattern=function(t,o){switch(t){case"L":return o.toLowerCase();case"U":return o.toUpperCase();case"d":if("string"==typeof o)return e.getDisplayDateFromString(o);if(o instanceof Date)return e.Format("{0:00}.{1:00}.{2:0000}",o.getDate(),o.getMonth(),o.getFullYear());break;case"s":if("string"==typeof o)return e.getSortableDateFromString(o);if(o instanceof Date)return e.Format("{0:0000}-{1:00}-{2:00}",o.getFullYear(),o.getMonth(),o.getDate());break;case"n":"string"!=typeof o&&(o=o.toString());var n=o.replace(/,/g,".");if(isNaN(parseFloat(n))||n.length<=3)break;var i=n.split(/[^0-9]+/g),a=i;i.length>1&&(a=[e.join.apply(e,[""].concat(i.splice(0,i.length-1))),i[i.length-1]]);var r=a[0],s=r.length%3,c=s>0?r.substring(0,s):e.Empty,l=r.substring(s).match(/.{3}/g);return(c=c+"."+e.Join(".",l))+(a.length>1?","+a[1]:"")}return"number"!=typeof o&&isNaN(o)||isNaN(+t)||e.IsNullOrWhiteSpace(o)?o:e.formatNumber(o,t)},e.getDisplayDateFromString=function(e){var t;if((t=e.split("-")).length<=1)return e;var o=t[t.length-1],n=t[t.length-2],i=t[t.length-3];return(o=(o=o.split("T")[0]).split(" ")[0])+"."+n+"."+i},e.getSortableDateFromString=function(t){var o=t.replace(",","").split(".");if(o.length<=1)return t;var n=o[o.length-1].split(" "),i=e.Empty;n.length>1&&(i=n[n.length-1]);var a=o[o.length-1].split(" ")[0]+"-"+o[o.length-2]+"-"+o[o.length-3];return!e.IsNullOrWhiteSpace(i)&&i.length>1?a+="T"+i:a+="T00:00:00",a},e.formatNumber=function(e,t){var o=t.length,n=e.toString();if(o<=n.length)return n;var i=o-n.length;return new Array(i+=1).join("0")+n},e.join=function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var i=e.Empty,a=0;a<o.length;a++)if(!("string"==typeof o[a]&&e.IsNullOrWhiteSpace(o[a])||"number"!=typeof o[a]&&"string"!=typeof o[a])){i+=""+o[a];for(var r=a+1;r<o.length;r++)if(!e.IsNullOrWhiteSpace(o[r])){i+=t,a=r-1;break}}return i},e.regexNumber=/{(\d+(:\w*)?)}/g,e.regexObject=/{(\w+(:\w*)?)}/g,e.Empty="",e}();t.String=n;var i=function(){function e(e){void 0===e&&(e=n.Empty),this.Values=[],this.Values=new Array(e)}return e.prototype.ToString=function(){return this.Values.join("")},e.prototype.Append=function(e){this.Values.push(e)},e.prototype.AppendFormat=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.Values.push(n.Format.apply(n,[e].concat(t)))},e.prototype.Clear=function(){this.Values=[]},e}();t.StringBuilder=i},m2Vd:function(e,t,o){"use strict";var n;o.d(t,"a",(function(){return n})),function(e){e[e.None=0]="None",e[e.JustNow=1]="JustNow",e[e.LessThanOneHour=2]="LessThanOneHour",e[e.Today=3]="Today",e[e.Yesterday=4]="Yesterday",e[e.ThisWeek=5]="ThisWeek",e[e.ThisYear=6]="ThisYear",e[e.FullDate=7]="FullDate",e[e.InMinutes=8]="InMinutes"}(n||(n={}))},mKwt:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={selectPpeParameter:"oneservice_enable_ppe",externalUrls:{api:"https://assets.msn.com/service/community/",cnApi:"https://assets.msn.cn/service/community/",ppeApi:"https://ppe-api.msn.com/community/",guidelinePage:"https://www.msn.com/en-us/community/guideline",guidelinePageEmbed:"https://www.msn.com/en-us/community/embed/guidelinepage",profilePage:"https://www.msn.com/en-us/community/profile/",channelPage:"https://www.msn.com/en-us/community/channel/",privacySettings:"https://www.msn.com/en-us/settings",profileSettings:"https://account.microsoft.com/profile",feedbackForm:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR-V3gf69zQlBm1dJVuXA8mtURVI4UlFHMDRIR0VCWDFWNUQyQU5HVzJJQi4u",moderationEmail:"Appealsprocessor@microsoft.com",newPost:"https://www.msn.com/en-us/community/post/new"},userStateType:{existingUser:"existingUser",anonymous:"anonymous",newUser:"newUser"},userNameStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAvatarStatusType:{normal:"Normal",notAllow:"NotAllow",inReview:"InReview",unknown:"Unknown"},userAgeGroup:{under18:"Under18",above18:"Above18"},userSubType:{default:"Default",publisher:"Publisher",creator:"Creator"},activityType:{follow:"Follow",reply:"Reply",reaction:"Reaction",badge:"Achievement",moderation:"Moderation",commentDeleteAlert:"CommentDeleteAlert",profileBannedAlert:"ProfileBannedAlert",profileErrorAlert:"ProfileErrorAlert"},moderationErrorType:{takedown:"Takedown",ban:"Ban",notAllowName:"NotAllowName",notAllowPicture:"NotAllowPicture",approveUserAppeal:"ApproveUserAppeal",rejectUserAppeal:"RejectUserAppeal",approveProfilePicAppeal:"ApproveProfilePicAppeal",rejectProfilePicAppeal:"RejectProfilePicAppeal",approveCommentAppeal:"ApproveCommentAppeal",rejectCommentAppeal:"RejectCommentAppeal"},visibleStatusType:{Normal:"Normal",DeletedByUser:"DeletedByUser",DeletedByAI:"DeletedByAI",DeletedByHI:"DeletedByHI",InReview:"InReview"},visibleStatusMap:{DeletedByUser:"VisibleStatusDeletedByUser",DeletedByAI:"VisibleStatusDeletedByAI",DeletedByHI:"VisibleStatusDeletedByHI",InReview:"VisibleStatusInReview",Default:"VisibleStatusOther"},commentReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",Copyright:"ReportOptCopyright",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},userNameReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},userPictureReportMap:{Spam:"ReportOptSpam",Profanity:"ReportOptProfanity",Abuse:"ReportOptAbuse",RiskyLowAuthority:"ReportOptRiskyLowAuthority",Copyright:"ReportOptCopyright",ChildRelated:"ReportOptChildRelated",Violent:"ReportOptViolent",Danger:"ReportOptDanger",PublicThreats:"ReportOptPublicThreats",Illegal:"ReportOptIllegal",Terrorism:"ReportOptTerrorism",Privacy:"ReportOptPrivacy",Nudity:"ReportOptNudity",NonConsensualIntimateImagery:"ReportOptNonConsensualIntimateImagery",Inappropriate:"ReportOptInappropriate",OffTopic:"ReportOptOffTopic"},reactionOrder:["like","love","surprised","thinking","sad","angry"],profileReportItemMap:{UserName:"ReportUserName",ProfilePicture:"ReportProfilePicture"},profilePageEmptyStates:{NoUser:"NoUser",NotSocialUser:"NotSocialUser"},reactionIconMap:{like:"EmojiLike",love:"EmojiHeart",thinking:"EmojiThinking",surprised:"EmojiSurprised",sad:"EmojiSad",angry:"EmojiAngry"},reactions:{like:"like",love:"love",thinking:"thinking",surprised:"surprised",sad:"sad",angry:"angry"},responsiveLevels:{L0:"cwtl-0",L1:"cwtl-1",L2:"cwtl-2",MobilePopup:"cwt-mobile-popup",articleOneBlock:"cwt-article-one-block"},newCommentErrorCodeMap:{400:"NewPostDeniedMsg",403:"NewPostSessionExpiredMsg",500:"NewPostWentWrongMsg",bodyTooLong:"NewPostTooLongMsg",other:"NewPostWentWrongMsg",0:"NewPostWentWrongMsg",1:"NewPostSessionExpiredMsg",4:"NewPostDeniedMsg",6:"NewPostWentWrongMsg",7:"NewPostWentWrongMsg",8:"NewPostWentWrongMsg",9:"NewPostWentWrongMsg",10:"NewPostWentWrongMsg",11:"NewPostWentWrongMsg",12:"NewPostTooManyCommentsMsg",20:"NewPostTooLongMsg",21:"NewPostMentionMsg",22:"NewPostWentWrongMsg",23:"NewPostWentWrongMsg",24:"NewPostDeniedMsg",25:"NewPostWentWrongMsg",26:"NewPostWentWrongMsg",27:"NewPostWentWrongMsg",28:"NewPostDeniedMsg",29:"NewPostDeniedMsg",30:"NewPostDeniedMsg",31:"NewPostDeniedMsg",32:{1:"NewPostDuplicatedMsg",2:"NewPostDeniedMsg",3:"NewPostDeniedMsg",4:"NewPostDeniedMsg",5:"NewPostDeniedMsg",6:"NewPostDeniedMsg",7:"NewPostDeniedMsg",8:"NewPostDeniedMsg",9:"NewPostDeniedMsg",10:"NewPostDeniedMsg",11:"NewPostDeniedMsg",12:"NewPostDeniedMsg",13:"NewPostDeniedMsg",14:"NewPostDeniedMsg",15:"NewPostDeniedMsg",16:"NewPostDeniedMsg",17:"NewPostLanguageErrorMsg",18:"NewPostURLMsg"}},commentsStatusType:{zero:0,minimal:1,expanded:2,notDetermined:3},theme:{default:{name:"default",disabledComponents:[]},superappBase:{name:"superapp",disabledComponents:[]},windowsBase:{name:"windows",disabledComponents:[]},superappEmbed:{name:"superapp-embed",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","notificationtray","reportmenu","profilereportmenu","copyrightform","trademarkform"]},superappFullpage:{name:"superapp-fullpage",modalComponents:["reactionbreakdowncomment","reactionbreakdowncontent","onboardingpage","onboardingthirdpartypage","onboardingunderagepage","reportmenu","profilereportmenu","copyrightform","trademarkform"],disabledComponents:["profilepage","guidelinepage","articlepage","multiloginpage","onboardingthirdpartypage","notificationtray"]}},profileVisitedLocalStorageKey:"self-profile-visited"}},q77S:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));const n="myReactionIds",i="myReaction"},vjdx:function(e,t,o){"use strict";o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return d}));var n=o("S7gc"),i=o("m2Vd"),a=o("Oa3u");class r{constructor(e,t,o){this.timeLocStrings=e,this.locale=t,this.locUtility=o}transform(e,t,o){if(!e)return"";if(!this.locUtility.supportsLocaleSpecifiers)return t;const n=Object(a.c)(e);switch(Object(a.b)(e)){case i.a.None:return"";case i.a.JustNow:return this.timeLocStrings.JustNow;case i.a.LessThanOneHour:return this.timespanString(n,n<120?this.timeLocStrings.NumberMinuteAgo:this.timeLocStrings.NumberMinutesAgo,60);case i.a.Today:return this.timespanString(n,n<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,3600);case i.a.Yesterday:if(0===o){const t=this.timeLocStrings.TimeYesterday;return this.locUtility.format(t,this.locUtility.formatTimeFromDate(e,this.locale))}return n<86400?this.timespanString(n,n<7200?this.timeLocStrings.NumberHourAgo:this.timeLocStrings.NumberHoursAgo,3600):this.timespanString(n,n<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,86400);case i.a.ThisWeek:return 0===o?this.locUtility.format(this.timeLocStrings.TimeDayOfWeek,this.locUtility.localizedWeekday(e,this.locale),this.locUtility.formatTimeFromDate(e,this.locale)):this.timespanString(n,n<172800?this.timeLocStrings.NumberDayAgo:this.timeLocStrings.NumberDaysAgo,86400);case i.a.ThisYear:return this.locUtility.localizedMonthDate(e,this.locale);default:return this.locUtility.localizedDateStringMedium(e,this.locale)}}timespanString(e,t,o){const n=Math.floor(e/o);return this.locUtility.format(t,this.locUtility.localizedNumberString(n,this.locale))}}const s={JustNow:"Just Now",NumberMinuteAgo:"{0} minute ago",NumberMinutesAgo:"{0} minutes ago",NumberHourAgo:"{0} hour ago",NumberHoursAgo:"{0} hours ago",NumberDayAgo:"{0} day ago",NumberDaysAgo:"{0} days ago",NumberWeekAgo:"{0} week",NumberWeeksAgo:"{0} weeks",NumberMonthAgo:"{0} month",NumberMonthsAgo:"{0} months",NumberYearAgo:"{0} year",NumberYearsAgo:"{0} years",TimeYesterday:"Yesterday at {0}",TimeDayOfWeek:"{0} at {1}"},c={Minute:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Hour:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Day:{one:"{0} ",two:"",threeToTen:"{0} ",elevenPlus:"{0} "},Week:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "},Month:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "},Year:{one:"{0} ",two:"{0} ",threeToTen:"{0} ",elevenPlus:"{0} "}},l={Week:{one:"{0} ",two:"{0} ",three:"{0} "},Month:{one:"{0} ",two:"{0} ",three:"{0} "},Year:{one:"{0} ",two:"{0} ",three:"{0} "}};function u(e,t,o,i,a,u){const d=t&&t.toLowerCase();if(!(e instanceof Date)||isNaN(e.valueOf()))return"";if(u&&o)return function(e,t,o,n){if(!(e instanceof Date)||isNaN(e.valueOf()))return"";const i=p.MsPerMinute,a=p.MsPerHour,r=p.MsPerDay,s=p.MsPerWeek,u=p.MsPerMonth,d=p.MsPerYear,m=t.getTime()-e.getTime();if(m<i)return o.JustNow||"";let h=d,b="Year";m<a?(h=i,b="Minute"):m<r?(h=a,b="Hour"):m<s?(h=r,b="Day"):m<u?(h=s,b="Week"):m<d&&(h=u,b="Month");const g=/^[Aa][Rr]-/.test(n),y=/^[Hh][Ee]-/.test(n),v=Math.floor(m/h);let f=null;f=g?function(e,t){if(e<2)return c[t].one;if(e<3)return c[t].two;if(e<11)return c[t].threeToTen;return c[t].elevenPlus}(v,b):y?function(e,t,o){if("Minute"==o||"Hour"==o||"Day"==o)return e[`Number${o}${t>1?"s":""}Ago`];if(t<2)return l[o].one;if(t<3)return l[o].two;return l[o].three}(o,v,b):o[`Number${b}${v>1?"s":""}Ago`];return f?f.replace("{0}",v):""}(e,new Date,o,d);if(!o&&"zh-cn"===d)return"";o||(o=s);const m=(a=a||new n.a).localizedDateString(e,d);i||(i=0);return new r(o,d,a).transform(e,m,i)}function d(e){return e.toLocaleString("ja-JP",{hour12:!1,hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",timeZone:"Asia/Tokyo"}).replace("","").replace("","")}const p={MsPerMinute:6e4,MsPerHour:36e5,MsPerDay:864e5,MsPerWeek:6048e5,MsPerMonth:2592e6,MsPerYear:31104e6}}}]);